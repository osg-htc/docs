



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://opensciencegrid.github.io/docs/data/bestman-install/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.1, mkdocs-material-2.7.3">
    
    
      
        <title>Install BeStMan - OSG Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.8d40d89b.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#installing-bestman" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://opensciencegrid.github.io/docs/" title="OSG Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                OSG Documentation
              </span>
              <span class="md-header-nav__topic">
                Install BeStMan
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/opensciencegrid/docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    OSG Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/opensciencegrid/docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../site-planning/" title="Site Planning" class="md-nav__link">
      Site Planning
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Compute Element
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Compute Element
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/htcondor-ce-overview/" title="HTCondor-CE Overview" class="md-nav__link">
      HTCondor-CE Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/install-htcondor-ce/" title="Install HTCondor-CE" class="md-nav__link">
      Install HTCondor-CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/job-router-recipes/" title="Job Router Recipes" class="md-nav__link">
      Job Router Recipes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/troubleshoot-htcondor-ce/" title="Troubleshooting HTCondor-CE" class="md-nav__link">
      Troubleshooting HTCondor-CE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute-element/submit-htcondor-ce/" title="Submitting to HTCondor-CE" class="md-nav__link">
      Submitting to HTCondor-CE
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Worker Node
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Worker Node
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/using-wn/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-wn/" title="Install from RPM" class="md-nav__link">
      Install from RPM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-wn-tarball/" title="Install from Tarball" class="md-nav__link">
      Install from Tarball
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-wn-oasis/" title="Install from OASIS" class="md-nav__link">
      Install from OASIS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-cvmfs/" title="Install CVMFS" class="md-nav__link">
      Install CVMFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-singularity/" title="Install Singularity" class="md-nav__link">
      Install Singularity
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      HTTP & CVMFS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        HTTP & CVMFS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../frontier-squid/" title="Install Squid HTTP Cache" class="md-nav__link">
      Install Squid HTTP Cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../update-oasis/" title="Update OASIS Shared Repo" class="md-nav__link">
      Update OASIS Shared Repo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../external-oasis-repos/" title="Install an OASIS Repo" class="md-nav__link">
      Install an OASIS Repo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      POSIX Storage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        POSIX Storage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../gridftp/" title="Install GridFTP Server" class="md-nav__link">
      Install GridFTP Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../load-balanced-gridftp/" title="Install Load Balanced GridFTP" class="md-nav__link">
      Install Load Balanced GridFTP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      HDFS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        HDFS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../hadoop-overview/" title="HDFS Overview" class="md-nav__link">
      HDFS Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-hadoop-2-0-0/" title="Install HDFS" class="md-nav__link">
      Install HDFS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4">
    
    <label class="md-nav__link" for="nav-5-4">
      XRootD
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        XRootD
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../xrootd-overview/" title="XRootD Overview" class="md-nav__link">
      XRootD Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-xrootd/" title="Install XRootD" class="md-nav__link">
      Install XRootD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-xroot-client/" title="Install XRootD Client" class="md-nav__link">
      Install XRootD Client
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Security
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Security
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/lcmaps-voms-authentication/" title="LCMAPS-VOMS authentication" class="md-nav__link">
      LCMAPS-VOMS authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/host-certs/" title="Host and Service Certificates" class="md-nav__link">
      Host and Service Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/user-certs/" title="User Certificates" class="md-nav__link">
      User Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/certificate-management/" title="Certificate Management Reference" class="md-nav__link">
      Certificate Management Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Common
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Common
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../common/ca/" title="CA Certificates" class="md-nav__link">
      CA Certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../common/yum/" title="Yum Repos" class="md-nav__link">
      Yum Repos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../common/openjdk7/" title="Java 7" class="md-nav__link">
      Java 7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/configuration-with-osg-configure/" title="Configuration with OSG-Configure" class="md-nav__link">
      Configuration with OSG-Configure
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Other
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Other
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/gsissh/" title="Install GSI-enabled SSH" class="md-nav__link">
      Install GSI-enabled SSH
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/install-gwms-frontend/" title="Install GlideinWMS Frontend" class="md-nav__link">
      Install GlideinWMS Frontend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/install-cvmfs-stratum1/" title="Install a CVMFS Stratum 1" class="md-nav__link">
      Install a CVMFS Stratum 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/network-performance-toolkit/" title="Install the Network Performance Toolkit" class="md-nav__link">
      Install the Network Performance Toolkit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/troubleshooting-gratia/" title="Troubleshooting Gratia" class="md-nav__link">
      Troubleshooting Gratia
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/schedd-filebeats/" title="Install Transfer Log Filebeats" class="md-nav__link">
      Install Transfer Log Filebeats
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Release Information
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Release Information
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/notes/" title="Release Note Overview" class="md-nav__link">
      Release Note Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2">
    
    <label class="md-nav__link" for="nav-9-2">
      3.4 Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-2">
        3.4 Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-11/" title="OSG Release 3.4.11" class="md-nav__link">
      OSG Release 3.4.11
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-10/" title="OSG Release 3.4.10" class="md-nav__link">
      OSG Release 3.4.10
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-9-2/" title="OSG Release 3.4.9-2" class="md-nav__link">
      OSG Release 3.4.9-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-9/" title="OSG Release 3.4.9" class="md-nav__link">
      OSG Release 3.4.9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-8/" title="OSG Release 3.4.8" class="md-nav__link">
      OSG Release 3.4.8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-7/" title="OSG Release 3.4.7" class="md-nav__link">
      OSG Release 3.4.7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-6-2/" title="OSG Release 3.4.6-2" class="md-nav__link">
      OSG Release 3.4.6-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-6/" title="OSG Release 3.4.6" class="md-nav__link">
      OSG Release 3.4.6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5-4/" title="OSG Release 3.4.5-4" class="md-nav__link">
      OSG Release 3.4.5-4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5-3/" title="OSG Release 3.4.5-3" class="md-nav__link">
      OSG Release 3.4.5-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5-2/" title="OSG Release 3.4.5-2" class="md-nav__link">
      OSG Release 3.4.5-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-5/" title="OSG Release 3.4.5" class="md-nav__link">
      OSG Release 3.4.5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-4-3/" title="OSG Release 3.4.4-3" class="md-nav__link">
      OSG Release 3.4.4-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-4-2/" title="OSG Release 3.4.4-2" class="md-nav__link">
      OSG Release 3.4.4-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-4/" title="OSG Release 3.4.4" class="md-nav__link">
      OSG Release 3.4.4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-3/" title="OSG Release 3.4.3" class="md-nav__link">
      OSG Release 3.4.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-2-2/" title="OSG Release 3.4.2-2" class="md-nav__link">
      OSG Release 3.4.2-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-2/" title="OSG Release 3.4.2" class="md-nav__link">
      OSG Release 3.4.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-1-2/" title="OSG Release 3.4.1-2" class="md-nav__link">
      OSG Release 3.4.1-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-1/" title="OSG Release 3.4.1" class="md-nav__link">
      OSG Release 3.4.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-0-2/" title="OSG Release 3.4.0-2" class="md-nav__link">
      OSG Release 3.4.0-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.4/release-3-4-0/" title="OSG Release 3.4.0" class="md-nav__link">
      OSG Release 3.4.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-3" type="checkbox" id="nav-9-3">
    
    <label class="md-nav__link" for="nav-9-3">
      3.3 Release Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-3">
        3.3 Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-33-2/" title="OSG Release 3.3.33-2" class="md-nav__link">
      OSG Release 3.3.33-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-33/" title="OSG Release 3.3.33" class="md-nav__link">
      OSG Release 3.3.33
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-32/" title="OSG Release 3.3.32" class="md-nav__link">
      OSG Release 3.3.32
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-31-2/" title="OSG Release 3.3.31-2" class="md-nav__link">
      OSG Release 3.3.31-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-31/" title="OSG Release 3.3.31" class="md-nav__link">
      OSG Release 3.3.31
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-30-4/" title="OSG Release 3.3.30-4" class="md-nav__link">
      OSG Release 3.3.30-4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-30-3/" title="OSG Release 3.3.30-3" class="md-nav__link">
      OSG Release 3.3.30-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-30-2/" title="OSG Release 3.3.30-2" class="md-nav__link">
      OSG Release 3.3.30-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-30/" title="OSG Release 3.3.30" class="md-nav__link">
      OSG Release 3.3.30
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-29-3/" title="OSG Release 3.3.29-3" class="md-nav__link">
      OSG Release 3.3.29-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-29-2/" title="OSG Release 3.3.29-2" class="md-nav__link">
      OSG Release 3.3.29-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-29/" title="OSG Release 3.3.29" class="md-nav__link">
      OSG Release 3.3.29
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-28/" title="OSG Release 3.3.28" class="md-nav__link">
      OSG Release 3.3.28
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-27-2/" title="OSG Release 3.3.27-2" class="md-nav__link">
      OSG Release 3.3.27-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-27/" title="OSG Release 3.3.27" class="md-nav__link">
      OSG Release 3.3.27
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-26-2/" title="OSG Release 3.3.26-2" class="md-nav__link">
      OSG Release 3.3.26-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-26/" title="OSG Release 3.3.26" class="md-nav__link">
      OSG Release 3.3.26
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-25-2/" title="OSG Release 3.3.25-2" class="md-nav__link">
      OSG Release 3.3.25-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-25/" title="OSG Release 3.3.25" class="md-nav__link">
      OSG Release 3.3.25
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-24-2/" title="OSG Release 3.3.24-2" class="md-nav__link">
      OSG Release 3.3.24-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-24/" title="OSG Release 3.3.24" class="md-nav__link">
      OSG Release 3.3.24
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-23/" title="OSG Release 3.3.23" class="md-nav__link">
      OSG Release 3.3.23
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-22-3/" title="OSG Release 3.3.22-3" class="md-nav__link">
      OSG Release 3.3.22-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-22-2/" title="OSG Release 3.3.22-2" class="md-nav__link">
      OSG Release 3.3.22-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-22/" title="OSG Release 3.3.22" class="md-nav__link">
      OSG Release 3.3.22
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-21-3/" title="OSG Release 3.3.21-3" class="md-nav__link">
      OSG Release 3.3.21-3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-21-2/" title="OSG Release 3.3.21-2" class="md-nav__link">
      OSG Release 3.3.21-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-21/" title="OSG Release 3.3.21" class="md-nav__link">
      OSG Release 3.3.21
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-20-2/" title="OSG Release 3.3.20-2" class="md-nav__link">
      OSG Release 3.3.20-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-20/" title="OSG Release 3.3.20" class="md-nav__link">
      OSG Release 3.3.20
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-19/" title="OSG Release 3.3.19" class="md-nav__link">
      OSG Release 3.3.19
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-18/" title="OSG Release 3.3.18" class="md-nav__link">
      OSG Release 3.3.18
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-17-2/" title="OSG Release 3.3.17-2" class="md-nav__link">
      OSG Release 3.3.17-2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-17/" title="OSG Release 3.3.17" class="md-nav__link">
      OSG Release 3.3.17
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-16/" title="OSG Release 3.3.16" class="md-nav__link">
      OSG Release 3.3.16
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-15/" title="OSG Release 3.3.15" class="md-nav__link">
      OSG Release 3.3.15
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-14/" title="OSG Release 3.3.14" class="md-nav__link">
      OSG Release 3.3.14
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-13/" title="OSG Release 3.3.13" class="md-nav__link">
      OSG Release 3.3.13
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-12/" title="OSG Release 3.3.12" class="md-nav__link">
      OSG Release 3.3.12
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-11/" title="OSG Release 3.3.11" class="md-nav__link">
      OSG Release 3.3.11
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-10/" title="OSG Release 3.3.10" class="md-nav__link">
      OSG Release 3.3.10
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-9/" title="OSG Release 3.3.9" class="md-nav__link">
      OSG Release 3.3.9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-8/" title="OSG Release 3.3.8" class="md-nav__link">
      OSG Release 3.3.8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-7/" title="OSG Release 3.3.7" class="md-nav__link">
      OSG Release 3.3.7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-6/" title="OSG Release 3.3.6" class="md-nav__link">
      OSG Release 3.3.6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-5/" title="OSG Release 3.3.5" class="md-nav__link">
      OSG Release 3.3.5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-4/" title="OSG Release 3.3.4" class="md-nav__link">
      OSG Release 3.3.4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-3/" title="OSG Release 3.3.3" class="md-nav__link">
      OSG Release 3.3.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-2/" title="OSG Release 3.3.2" class="md-nav__link">
      OSG Release 3.3.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-1/" title="OSG Release 3.3.1" class="md-nav__link">
      OSG Release 3.3.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/3.3/release-3-3-0/" title="OSG Release 3.3.0" class="md-nav__link">
      OSG Release 3.3.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/release_series/" title="OSG Release Series" class="md-nav__link">
      OSG Release Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/supported_platforms/" title="Supported Platforms" class="md-nav__link">
      Supported Platforms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/install-osg-upcoming-software/" title="OSG upcoming software" class="md-nav__link">
      OSG upcoming software
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/yum-basics/" title="Yum Basics" class="md-nav__link">
      Yum Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/signing/" title="RPM Signing" class="md-nav__link">
      RPM Signing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/contrib/" title="Contrib Software" class="md-nav__link">
      Contrib Software
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Monitoring
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Monitoring
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/install-rsv/" title="Install RSV" class="md-nav__link">
      Install RSV
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/advanced-rsv-configuration/" title="Advanced RSV Configuration" class="md-nav__link">
      Advanced RSV Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/rsv-control/" title="Manage RSV via rsv-control" class="md-nav__link">
      Manage RSV via rsv-control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/install-rsv-gwms-tester/" title="RSV GlideinWMS Tester" class="md-nav__link">
      RSV GlideinWMS Tester
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" checked>
    
    <label class="md-nav__link" for="nav-11">
      Deprecated Software
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Deprecated Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
    <a href="./" title="Install BeStMan" class="md-nav__link md-nav__link--active">
      Install BeStMan
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-bestman-xrootd/" title="Install BeStMan Xrootd SE" class="md-nav__link">
      Install BeStMan Xrootd SE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/edg-mkgridmap/" title="Install EDG-Mkgridmap" class="md-nav__link">
      Install EDG-Mkgridmap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/install-gums/" title="Install GUMS" class="md-nav__link">
      Install GUMS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../worker-node/install-glexec/" title="Install Worker node glexec" class="md-nav__link">
      Install Worker node glexec
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other/install-voms/" title="Install VOMS" class="md-nav__link">
      Install VOMS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../common/help/" title="Get Help" class="md-nav__link">
      Get Help
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/opensciencegrid/docs/edit/master/docs/data/bestman-install.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="installing-bestman">Installing BeStMan<a class="headerlink" href="#installing-bestman" title="Permanent link">&para;</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As of the June 2017 release of OSG 3.4.0, this software is officially deprecated.  Support is scheduled to end as of May 2018.</p>
</div>
<h1 id="about-this-document">About this Document<a class="headerlink" href="#about-this-document" title="Permanent link">&para;</a></h1>
<p>This document explains how to install a BeStMan SRMv2 service. This procedure will guide one through the installation and configuration of a basic <code>bestman2</code> host with an underlying GridFTP server. This will allow the service to service requests via the SRM (Storage Resource Manager) protocol or the GridFTP protocol.</p>
<h1 id="installing-bestman-storage-element">Installing BeStMan Storage Element<a class="headerlink" href="#installing-bestman-storage-element" title="Permanent link">&para;</a></h1>
<p>This procedure explains how to install the stand-alone BeStMan Storage Element server; <a href="#upgrading-bestman">see below</a> for notes on upgrading.  The service has the following components:</p>
<ul>
<li>BeStMan - provides load-balancing across GridFTP servers.</li>
<li>GridFTP server - provides file transfer services using the GridFTP protocol.</li>
<li><a href="https://github.com/opensciencegrid/docs/blob/master/archive/GratiaTransferProbe">Gratia gridftp transfer probe</a> (optional) - provides transfer accounting information to the OSG.</li>
</ul>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<h3 id="host-and-os">Host and OS<a class="headerlink" href="#host-and-os" title="Permanent link">&para;</a></h3>
<ul>
<li>You need at least one node in order to install this service.</li>
<li>The OS must be in the <a href="../../release/supported_platforms/">supported platforms</a> list.</li>
<li>The <a href="../../common/yum/">OSG software repositories</a> must be configured correctly.</li>
<li>All procedures in this document require <em>root</em> privileges.</li>
</ul>
<h3 id="users">Users<a class="headerlink" href="#users" title="Permanent link">&para;</a></h3>
<p>This installation will create following users unless they are already created:</p>
<table>
<thead>
<tr>
<th align="left">User</th>
<th align="left">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>bestman</code></td>
<td align="left">Used by Bestman SRM server</td>
</tr>
</tbody>
</table>
<p>For full functionality, the <code>bestman</code> account will need limited <code>sudo</code> access to a few commands, described below.</p>
<p>For this package to function correctly, you will have to create the users needed for grid operation. Any user that can be authenticated should be created.  For grid-mapfile users, each line of the grid-mapfile is a certificate/user pair. Each user in this file should be created on the server. For GUMS sites, this means that each user that can be authenticated by GUMS should be created on the server.</p>
<p>Note that these users must be kept in sync with the authentication method. For instance, if new users or rules are added in GUMS, then new users should also be added here.</p>
<h3 id="certificates">Certificates<a class="headerlink" href="#certificates" title="Permanent link">&para;</a></h3>
<p>Two certificates are needed for operation of this service.</p>
<table>
<thead>
<tr>
<th align="left">Certificate</th>
<th align="left">User that owns certificate</th>
<th align="left">Path to certificate</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Host certificate</td>
<td align="left"><code>root</code></td>
<td align="left"><code>/etc/grid-security/hostcert.pem</code> and <code>/etc/grid-security/hostkey.pem</code></td>
</tr>
<tr>
<td align="left">Bestman service certificate</td>
<td align="left"><code>bestman</code></td>
<td align="left"><code>/etc/grid-security/bestman/bestmancert.pem</code> and <code>/etc/grid-security/bestman/bestmankey.pem</code></td>
</tr>
</tbody>
</table>
<p>Following the <a href="../../security/host-certs">instructions</a> to request a service certificate.</p>
<p>You will also need a copy of CA certificates. Note that the <code>osg-se-bestman</code> package will automatically install a certificate package but will not necessarily pick the cert package you expect; see <a href="../../common/ca/">the CA certificates</a> documentation for more information.</p>
<h3 id="networking">Networking<a class="headerlink" href="#networking" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th align="left">Service Name</th>
<th align="left">Protocol</th>
<th align="left">Port Number</th>
<th align="left">Inbound</th>
<th align="left">Outbound</th>
<th align="left">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">GridFTP data channels</td>
<td align="left">tcp</td>
<td align="left"><code>GLOBUS_TCP_PORT_RANGE</code></td>
<td align="left">X</td>
<td align="left"></td>
<td align="left">contiguous range of ports is necessary.</td>
</tr>
<tr>
<td align="left">GridFTP data channels</td>
<td align="left">tcp</td>
<td align="left"><code>GLOBUS_TCP_SOURCE_RANGE</code></td>
<td align="left"></td>
<td align="left">X</td>
<td align="left">contiguous range of ports is necessary.</td>
</tr>
<tr>
<td align="left">GridFTP control channel</td>
<td align="left">tcp</td>
<td align="left">2811</td>
<td align="left">X</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">SRM</td>
<td align="left">tcp</td>
<td align="left">8443</td>
<td align="left">X</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h3 id="engineering-considerations">Engineering Considerations<a class="headerlink" href="#engineering-considerations" title="Permanent link">&para;</a></h3>
<p>Please answer following questions before you proceed with installation and configuration of BeStMan storage element:</p>
<p>Q. <em>What authorization mechanism should I use?</em></p>
<p>Decide between a <a href="../../security/edg-mkgridmap">grid-mapfile</a> or a <a href="../../security/install-gums">GUMS</a> server for authorization.  Both mechanisms are deprecated with a planned removal by May 2018.  The replacement mechanism, however, does not work with <code>bestman2</code>.</p>
<p>Q. <em>How many GridFTP servers will I need?</em></p>
<p>Choose to run multiple GridFTP servers for load balancing and better performance. We recommend to install additional GridFTP servers if your Storage Element:</p>
<ul>
<li>Is serving data to more than 1000 cores for VOs that use storage heavily (e.g. CMS, ATLAS, CDF, and D0),</li>
<li>Is managing more than 500 TB of disk space, OR</li>
<li>Has more than 10Gbps bandwidth</li>
</ul>
<p>We recommend approximately one GridFTP server for each 8Gbps of desired utilized bandwidth.</p>
<p>Q. <em>Do I need to change default configuration of Gridftp server?</em></p>
<p>Yes, you may want to do this if the node on which GridFTP server will be installed has multiple network interfaces. Read <a href="../gridftp#configuring-a-multi-homed-server">this section</a> for more details.</p>
<p>Q. <em>Do you need to enable Gratia gridftp-transfer probes?</em> <br />
The Gratia gridftp-transfer probes provide OSG storage statistics for accounting purposes. The reports include the source and destination of transfers, certificate subject of transfer initiator, as well as the size and status of the transferred file. The probe needs to be installed on every GridFTP server.</p>
<h1 id="install-instructions">Install Instructions<a class="headerlink" href="#install-instructions" title="Permanent link">&para;</a></h1>
<h2 id="installing-bestman2">Installing BeStMan2<a class="headerlink" href="#installing-bestman2" title="Permanent link">&para;</a></h2>
<ol>
<li>Install Java using <a href="../../common/openjdk7#installing-java">these instructions</a>.</li>
<li>Install the BeStMan Storage element meta-package:</li>
</ol>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum install osg-se-bestman
</pre></div>


<h2 id="authorization">Authorization<a class="headerlink" href="#authorization" title="Permanent link">&para;</a></h2>
<p>There are two authorization options:</p>
<ul>
<li>Gridmap file</li>
<li>GUMS authentication server</li>
</ul>
<p>Please choose one of these and follow the instructions in one of the two following sections.</p>
<h3 id="configuring-gridmap-support">Configuring Gridmap Support<a class="headerlink" href="#configuring-gridmap-support" title="Permanent link">&para;</a></h3>
<p>By default, GridFTP uses a gridmap file, found in <code>/etc/grid-security/grid-mapfile</code>. This file is not generated by default. can generate this file. You can generate this file manually, by including DN/username combinations (this is most useful for debugging). Otherwise, you can use <a href="../../security/edg-mkgridmap"><code>edg-mkgridmap</code></a>, which will periodically contact a list of VOMS servers that you specify.</p>
<p>Once <code>edg-mkgridmap</code> is configured, you will have to modify <code>/etc/bestman2/conf/bestman2.rc</code> and change <code>GridMapFileName</code> from <code>/etc/bestman2/conf/grid-mapfile.empty</code> to:</p>
<div class="codehilite"><pre><span></span>GridMapFileName=/etc/grid-security/grid-mapfile
</pre></div>


<p>In <code>/etc/sysconfig/bestman2</code>, change</p>
<div class="codehilite"><pre><span></span><span class="nv">BESTMAN_GUMS_ENABLED</span><span class="o">=</span>no
</pre></div>


<h3 id="configuring-gums-support">Configuring GUMS support<a class="headerlink" href="#configuring-gums-support" title="Permanent link">&para;</a></h3>
<p>By default, GridFTP uses a gridmap file, found in <code>/etc/grid-security/gridmap-file</code>. If you want to use GUMS security (recommended), you will need to enable it using the following steps.</p>
<p>First, edit <code>/etc/grid-security/gsi-authz.conf</code> and uncomment the authorization callout:</p>
<div class="codehilite"><pre><span></span>globus_mapping liblcas_lcmaps_gt4_mapping.so lcmaps_callout
</pre></div>


<p>Next edit <code>/etc/lcmaps.db</code> to enter the correct GUMS hostname:</p>
<div class="codehilite"><pre><span></span>gumsclient = &quot;lcmaps_gums_client.mod&quot;
             &quot;-resourcetype ce&quot;
             &quot;-actiontype execute-now&quot;
             &quot;-capath /etc/grid-security/certificates&quot;
             &quot;-cert   /etc/grid-security/hostcert.pem&quot;
             &quot;-key    /etc/grid-security/hostkey.pem&quot;
             &quot;--cert-owner root&quot;
# Change this URL to your GUMS server
             &quot;--endpoint https://&lt;GUMS_HOSTNAME&gt;:8443/gums/services/GUMSXACMLAuthorizationServicePort&quot;
</pre></div>


<p>You will need to modify the following settings in <code>/etc/sysconfig/bestman2</code></p>
<div class="codehilite"><pre><span></span><span class="nv">BESTMAN_GUMSCERTPATH</span><span class="o">=</span>/etc/grid-security/bestman/bestmancert.pem
<span class="nv">BESTMAN_GUMSKEYPATH</span><span class="o">=</span>/etc/grid-security/bestman/bestmankey.pem
</pre></div>


<p>You will need to modify the following settings in <code>/etc/bestman2/conf/bestman2.rc</code></p>
<div class="codehilite"><pre><span></span>GUMSserviceURL=https://&lt;GUMS_HOST&gt;:8443/gums/services/GUMSXACMLAuthorizationServicePort
</pre></div>


<h2 id="edit-bestman-settings">Edit Bestman Settings<a class="headerlink" href="#edit-bestman-settings" title="Permanent link">&para;</a></h2>
<p>Bestman settings are split into three files:</p>
<ul>
<li>Environment variables (except those that represent server and client libraries) are stored in <code>/etc/sysconfig/bestman2</code>.</li>
<li>The server and client library environment variables are stored in <code>/etc/sysconfig/bestman2lib</code>.</li>
<li>Configuration is stored in <code>/etc/bestman2/conf/bestman2.rc</code>.</li>
</ul>
<p>You should review these settings to make sure all of them comply with your environment. You are not expected to edit <code>/etc/sysconfig/bestman2lib</code> .</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are upgrading from a version prior to 2.3.0-9, you will need to remove <strong>all</strong> entries for <code>BESTMAN2_SERVER_LIB</code> and <code>BESTMAN2_CLIENT_LIB</code> in file <code>/etc/sysconfig/bestman2.</code> These settings are now present in file <code>/etc/sysconfig/bestman2lib</code></p>
</div>
<p>You will likely need to modify the following settings in <code>/etc/bestman2/conf/bestman2.rc</code>:</p>
<div class="codehilite"><pre><span></span>localPathListAllowed=/tmp
CertFileName=/etc/grid-security/bestman/bestmancert.pem
KeyFileName=/etc/grid-security/bestman/bestmankey.pem
supportedProtocolList=gsiftp://&lt;GRIDFTP_HOSTNAME&gt;;gsiftp://&lt;GRIDFTP_HOSTNAME2&gt;
</pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure the value for <code>localPathListAllowed</code> is correctly entered - i.e. each path separated by a <code>;</code>. If it is not, this parameter may not be effective.
Make sure the permissions for the <code>localPathListAllowed</code> directory(ies) are set to 1777, which is the default for <code>/tmp</code>. Further, note that on many systems, <code>/tmp</code> gets cleared out automatically, so you may want to use a different location to ensure that the files persist.</p>
</div>
<p>BeStMan requires up to two sets of certificate pairs. One is for host services; when clients connect to BeStMan, they will receive this certificate (<code>CertFileName</code>, <code>KeyFileName</code>) as proof of the server identity. The second certificate pair (<code>BESTMAN_GUMSCERTPATH</code>, <code>BESTMAN_GUMSKEYPATH</code>) is used to communicate with GUMS when verifying identity information (this only applicable for GUMS-enabled sites). These two can (and usually will be) the same files, but can be split if your GUMS setup requires a specific identity.</p>
<p><code>localPathListAllowed</code> determines which paths users will be able to access via SRM.</p>
<p><code>supportedProtocolList</code> is a semi-colon list of GridFTP servers that the BeStMan will use as transfer agents. If you are using anything but the standard GridFTP port 2811, you will also have to add the port (ie <code>gsiftp://&lt;HOSTNAME&gt;:port</code>).</p>
<p>Finally, modify <code>GUMSserviceURL</code> to use your local GUMS installation if you are using GUMS.</p>
<h2 id="modify-etcsudoers">Modify <code>/etc/sudoers</code><a class="headerlink" href="#modify-etcsudoers" title="Permanent link">&para;</a></h2>
<p>BeStman requires the <code>sudo</code> command in order to write information as the proper user. You will need to give the <code>bestman</code> user the proper permissions to run these commands.</p>
<p>Modify <code>/etc/sudoers</code> and comment the following line.</p>
<div class="codehilite"><pre><span></span>#Defaults    requiretty
</pre></div>


<p>Then add the following lines at the end of the <code>/etc/sudoers</code> file.</p>
<div class="codehilite"><pre><span></span>Cmnd_Alias SRM_CMD = /bin/rm, /bin/mkdir, /bin/rmdir, /bin/mv, /bin/cp, /bin/ls
Runas_Alias SRM_USR = ALL, !root
bestman   ALL=(SRM_USR) NOPASSWD: SRM_CMD
</pre></div>


<h2 id="copying-certificates-to-an-alternate-location">Copying certificates to an alternate location<a class="headerlink" href="#copying-certificates-to-an-alternate-location" title="Permanent link">&para;</a></h2>
<p>BeStMan requires a certificate pair to function; this must be readable by the <code>bestman</code> user.</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> cp /etc/grid-security/hostkey.pem /etc/grid-security/bestman/bestmankey.pem
<span class="gp">root@host #</span> cp /etc/grid-security/hostcert.pem /etc/grid-security/bestman/bestmancert.pem
<span class="gp">root@host #</span> chown -R bestman:bestman /etc/grid-security/bestman/
</pre></div>


<p>Verify <code>CertFileName</code> and <code>KeyFileName</code> in <code>/etc/bestman2/conf/bestman2.rc</code> are set appropriately.</p>
<h2 id="optional-using-a-different-bestman-user">(Optional) Using a different bestman user<a class="headerlink" href="#optional-using-a-different-bestman-user" title="Permanent link">&para;</a></h2>
<p>If you would like to use a different user than the default <code>bestman</code> user (<em>not recommended</em>), you will need to change the following:</p>
<ul>
<li>Ownership of bestman certs in <code>/etc/grid-security/bestman</code>.</li>
<li><code>SRM_OWNER</code> in <code>/etc/sysconfig/bestman2</code> to the new user.</li>
<li>User in <code>/etc/sudoers</code>. The last line (<code>bestman ALL(SRM_USR) NOPASSWD: SRM_CMD</code>) should be changed from <code>bestman</code> to the new user.</li>
<li>Ownership of <code>/var/log/bestman2</code></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Currently the RPM packaging will change the ownership of the <code>/var/log/bestman2</code> directory back to <code>bestman</code> on upgrades.</p>
</div>
<h2 id="optional-modifying-default-logging-for-eventsrmlog">(Optional) Modifying default logging for <code>event.srm.log</code><a class="headerlink" href="#optional-modifying-default-logging-for-eventsrmlog" title="Permanent link">&para;</a></h2>
<p>The logging directory (<code>/var/log/bestman2</code>) has two types of logs - <code>bestman2.log</code> and <code>event.srm.log</code>.</p>
<p>Log-rotation of <code>bestman2.log</code> file is controlled by <code>/etc/logrotate.d/bestman2</code> file.</p>
<p>By default, the size of <code>event.srm.log</code> log file is set to 50MB within the Bestman code itself.</p>
<p>Left unchanged, <code>event.srm.log</code> file counts will keep increasing indefinitely.  Depending on the usage, the number of these files can become high enough to fill up the partition that holds these logs.</p>
<p>There are 3 ways to avoid this -</p>
<ul>
<li>
<p>Modify following parameters (commented by default) in the <code>/etc/sysconfig/bestman2</code> file</p>
<div class="codehilite"><pre><span></span><span class="c1"># Number of files to keep</span>
<span class="nv">BESTMAN_EVENT_LOG_COUNT</span><span class="o">=</span><span class="m">10</span>
<span class="c1"># Size of each file in bytes</span>
<span class="nv">BESTMAN_EVENT_LOG_SIZE</span><span class="o">=</span><span class="m">20971520</span>
</pre></div>


<p>The optimal value for these depends on usage of the service.</p>
</li>
<li>
<p>Create a directory under a much bigger partition and have a symlink from <code>/var/log/bestman2</code> to that directory.</p>
</li>
<li>Leave the default settings, but have your own custom script that cleans these files according to your needs.</li>
</ul>
<h1 id="starting-services">Starting Services<a class="headerlink" href="#starting-services" title="Permanent link">&para;</a></h1>
<ol>
<li>
<p><code>fetch-crl</code></p>
<p>For RHEL 6:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> /usr/sbin/fetch-crl   <span class="c1"># This fetches the CRLs </span>
<span class="gp">root@host #</span> /sbin/service fetch-crl-boot start
<span class="gp">root@host #</span> /sbin/service fetch-crl-cron start
</pre></div>


<p>For RHEL 7:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> /usr/sbin/fetch-crl   <span class="c1"># This fetches the CRLs </span>
<span class="gp">root@host #</span> systemctl start fetch-crl-boot
<span class="gp">root@host #</span> systemctl start fetch-crl-cron
</pre></div>


</li>
<li>
<p>GridFTP</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> service globus-gridftp-server start
</pre></div>


</li>
<li>
<p>Bestman</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> service bestman2 start
</pre></div>


<p>To start Bestman automatically at boot time</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> chkconfig bestman2 on
</pre></div>


</li>
<li>
<p>Gratia transfer probe:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> service gratia-gridftp-transfer start
</pre></div>


</li>
</ol>
<h1 id="stopping-services">Stopping Services<a class="headerlink" href="#stopping-services" title="Permanent link">&para;</a></h1>
<ol>
<li>
<p>fetch-crl</p>
<p>For RHEL 6:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> /usr/sbin/fetch-crl   <span class="c1"># This fetches the CRLs</span>
<span class="gp">root@host #</span> /sbin/service fetch-crl-boot stop
<span class="gp">root@host #</span> /sbin/service fetch-crl-cron stop
</pre></div>


<p>For RHEL 7:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> /usr/sbin/fetch-crl   <span class="c1"># This fetches the CRLs</span>
<span class="gp">root@host #</span> systemctl stop fetch-crl-boot
<span class="gp">root@host #</span> systemctl stop fetch-crl-cron
</pre></div>


</li>
<li>
<p>GridFTP</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> service globus-gridftp-server stop
</pre></div>


</li>
<li>
<p>Bestman</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> service bestman2 stop
</pre></div>


</li>
<li>
<p>Gratia transfer probe</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> service gratia-gridftp-transfer stop
</pre></div>


</li>
</ol>
<h1 id="validation-of-service-operation">Validation of Service Operation<a class="headerlink" href="#validation-of-service-operation" title="Permanent link">&para;</a></h1>
<p>Once you have your SE setup and configured, there are several ways to monitor your installation. Refer to the following pages for more information:</p>
<ul>
<li><a href="../../monitoring/install-rsv">RSV</a> which includes SRM probes as well.</li>
</ul>
<p>You can also self-test to verify your installation with an SRM client such as <code>gfal-copy</code>.</p>
<h1 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th align="left">Service/Process</th>
<th align="left">Log File</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">BeStMan2</td>
<td align="left"><code>/var/log/bestman2/bestman2.log</code></td>
<td align="left">BeStMan2 server log and errors</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/var/log/bestman2/event.srm.log</code></td>
<td align="left">Records all SRM transactions</td>
</tr>
<tr>
<td align="left">GridFTP</td>
<td align="left"><code>/var/log/gridftp.log</code></td>
<td align="left">Transfer log</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/var/log/gridftp-auth.log</code></td>
<td align="left">Authentication log</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/var/log/messages</code></td>
<td align="left">Main system log (look here for LCMAPS errors)</td>
</tr>
</tbody>
</table>
<h2 id="debugging-procedure">Debugging Procedure<a class="headerlink" href="#debugging-procedure" title="Permanent link">&para;</a></h2>
<p>If system validation failed, you would probably need to check each component in order to verify your installation. In order to do so, you should check all of them in the following order</p>
<ul>
<li>GUMS (if in use)</li>
<li>GridFTP</li>
<li>BeStMan</li>
</ul>
<h3 id="verifying-gums">Verifying GUMS<a class="headerlink" href="#verifying-gums" title="Permanent link">&para;</a></h3>
<p>Make sure that the service certificate you specified for BeStMan configuration with <code>GUMSHOSTCERT</code>, <code>GUMSHOSTKEY</code> options and GridFTP service certificate are accepted by GUMS.</p>
<p>Test GUMS by running:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> srm-ping srm://&lt;BESTMAN_HOST&gt;:8443/srm/v2/server
</pre></div>


<p>In the output, check that your <code>gumsIDMapped</code> is not <code>null</code>. It returns the <code>uid</code> that GUMS will map you to. This can be obtained from your GUMS administrator. Verify that this <code>uid</code> exists on BeStMan and GridFTP node.</p>
<h3 id="verifying-gridftp">Verifying GridFTP<a class="headerlink" href="#verifying-gridftp" title="Permanent link">&para;</a></h3>
<p>Login on the node where your certificate and <a href="../../worker-node/install-wn/">OSG Worker Node Client</a> is installed You will need to generate your proxy credentials using <code>grid-proxy-init</code> or <code>voms-proxy-init</code>.</p>
<p>Then test GridFTP using <code>globus-url-copy</code>:</p>
<div class="codehilite"><pre><span></span><span class="gp">user@host $</span> <span class="nb">echo</span> <span class="s2">&quot;This is a test&quot;</span> &gt;/tmp/test 
<span class="gp">user@host $</span> globus-url-copy -dbg file:///tmp/test gsiftp://&lt;GRIDFTP_HOST&gt;/tmp/test 
</pre></div>


<p>Check the GridFTP logs to see if you have encountered any errors.</p>
<h3 id="verifying-bestman">Verifying BeStMan<a class="headerlink" href="#verifying-bestman" title="Permanent link">&para;</a></h3>
<p>Make sure that the BeStMan process is running</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> ps -ef <span class="p">|</span> grep bestman
<span class="go">bestman   5121     1 99 19:59 ?        00:00:01 /usr/java/latest/bin/java -server -Xmx1024m -XX:MaxDirectMemorySize=1024m -DX509_CERT_DIR=/etc/grid-security/certificates -DCADIR=/etc/grid-security/certificates -Daxis.socketSecureFactory=org.glite.security.trustmanager.axis.AXISSocketFactory -DsslCAFiles=/etc/grid-security/certificates/*.0 -DsslCertfile=/etc/grid-security/bestman/bestmancert.pem -DsslKey=/etc/grid-security/bestman/bestmankey.pem -DJettyConfiguration=/etc/bestman2/conf/WEB-INF/jetty.xml -DJettyDescriptor=/etc/bestman2/conf/WEB-INF/web.xml -DJettyResource=/etc/bestman2/conf/ -Dorg.eclipse.jetty.util.log.IGNORE=true gov.lbl.srm.server.Server /etc/bestman2/conf/bestman2.rc</span>
</pre></div>


<p>If <code>bestman2</code> is not running, check information in the log file <strong><code>/var/log/bestman2/bestman2.log</code></strong>.</p>
<h1 id="useful-configuration-and-log-files">Useful Configuration and Log Files<a class="headerlink" href="#useful-configuration-and-log-files" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th align="left">Service/Process</th>
<th align="left">Configuration File</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">BeStMan2</td>
<td align="left"><code>/etc/bestman2/conf/bestman2.rc</code></td>
<td align="left">Main BeStMan2 configuration file</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/etc/sysconfig/bestman2</code></td>
<td align="left">Environment variables used by BeStMan2</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/etc/sysconfig/bestman2lib</code></td>
<td align="left">Environment variables that store values of various client and server libraries used by BeStMan2</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/etc/bestman2/conf/*</code></td>
<td align="left">Other runtime configuration files</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/etc/init.d/bestman2</code></td>
<td align="left">init.d startup script</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/etc/gridftp.conf</code></td>
<td align="left">Startup parameters</td>
</tr>
<tr>
<td align="left">GridFTP</td>
<td align="left"><code>/etc/sysconfig/globus-gridftp-server</code></td>
<td align="left">Environment variables for GridFTP</td>
</tr>
<tr>
<td align="left">Gratia Probe</td>
<td align="left"><code>/etc/gratia/gridftp-transfer/ProbeConfig</code></td>
<td align="left">GridFTP Gratia Probe configuration</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/etc/cron.d/gratia-probe-gridftp-transfer.cron</code></td>
<td align="left">Cron tab file</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th align="left">Service/Process</th>
<th align="left">Log File</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">BeStMan2</td>
<td align="left"><code>/var/log/bestman2/bestman2.log</code></td>
<td align="left">BeStMan2 container log</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/var/log/bestman2/event.srm.log</code></td>
<td align="left">Records all SRM transactions</td>
</tr>
<tr>
<td align="left">GridFTP</td>
<td align="left"><code>/var/log/gridftp.log</code></td>
<td align="left">Transfer log</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/var/log/gridftp-auth.log</code></td>
<td align="left">GridFTP authorization log</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>/var/log/messages</code></td>
<td align="left">Main system log (look here for LCMAPS errors)</td>
</tr>
<tr>
<td align="left">Gratia probe</td>
<td align="left"><code>/var/log/gratia</code></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h1 id="upgrading-bestman">Upgrading BeStMan<a class="headerlink" href="#upgrading-bestman" title="Permanent link">&para;</a></h1>
<p>Upgrading BeStMan can be done by</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host #</span> yum upgrade bestman2-server
</pre></div>


<p>There are a few notes to be aware of when upgrading BeStMan.</p>
<ul>
<li>From many of the versions of the BeStMan, configuration changes have taken place. Do not ignore any warnings about rpmsave or rpmnew files. You will need to especially be careful about and <code>/etc/bestman2/conf/bestman2.rc</code>.</li>
<li>Beginning with BeStMan 2.3.0-9, many dependency locations changed. Be sure that <code>/etc/sysconfig/bestman2lib</code> contains the <code>build-classpath</code> directives in the <code>BESTMAN2_SERVER_LIB</code> and <code>BESTMAN2_CLIENT_LIB</code>. Otherwise, you may get java class loading errors on startup or on run-time. Be sure to remove these entries from the <code>/etc/sysconfig/bestman2</code> file.</li>
<li>For BeStMan 2.1.3, certain versions had a combined sysconfig and configuration file. You may need to split these files apart if this is the case.</li>
</ul>
<p>For more help, please contact the GOC to create a support ticket.</p>
<h1 id="how-to-get-help">How to get Help?<a class="headerlink" href="#how-to-get-help" title="Permanent link">&para;</a></h1>
<p>If you cannot resolve the problem, there are several ways to receive help:</p>
<ul>
<li>For bug support and issues, submit a ticket to the <a href="https://ticket.opensciencegrid.org">Grid Operations Center</a>.</li>
<li>For community support and best-effort software team support contact <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#111;&#115;&#103;&#45;&#115;&#111;&#102;&#116;&#119;&#97;&#114;&#101;&#64;&#111;&#112;&#101;&#110;&#115;&#99;&#105;&#101;&#110;&#99;&#101;&#103;&#114;&#105;&#100;&#46;&#111;&#114;&#103;">&#111;&#115;&#103;&#45;&#115;&#111;&#102;&#116;&#119;&#97;&#114;&#101;&#64;&#111;&#112;&#101;&#110;&#115;&#99;&#105;&#101;&#110;&#99;&#101;&#103;&#114;&#105;&#100;&#46;&#111;&#114;&#103;</a>.</li>
</ul>
<p>For a full set of help options, see the <a href="../../common/help">Help Procedure</a>.</p>
<h1 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="http://wt2.slac.stanford.edu/xrootdfs/bestman-gateway.html">SLAC Gateway mode Instruction</a> - SLAC guide on gateway mode</li>
<li><a href="http://www.usatlas.bnl.gov/twiki/bin/view/Admins/BestMan">US ATLAS instruction page</a></li>
<li><a href="https://github.com/dCache/s2">S2</a> - A SRM v2.2 test suite from CERN. It provides basic functionality tests based on use cases, and cross-copy tests, as part of the certification process and supports file access/transfer protocols: rfio, dcap, gsidcap, gsiftp</li>
<li><a href="https://opensciencegrid.org/technology/projects/sha2-support/">SHA-2 compliance page</a></li>
</ul>
<h1 id="known-issues">Known Issues<a class="headerlink" href="#known-issues" title="Permanent link">&para;</a></h1>
<h2 id="requesting-host-certificates-in-rhel6">Requesting host certificates in RHEL6<a class="headerlink" href="#requesting-host-certificates-in-rhel6" title="Permanent link">&para;</a></h2>
<p>Bestman may not start if the certificates were requested on slc6. This is be caused by a bug in JGlobus (see <a href="https://github.com/jglobus/JGlobus/issues/118">JGlobusIssue118</a>), a <code>bestman2</code> dependency. A known workaround is to run this command</p>
<div class="codehilite"><pre><span></span><span class="gp">user@host $</span> openssl rsa -in mykey.pem -out mykey.pem.old
</pre></div>


<p>This command on converts <code>mykey.pem</code> to <code>mykey.pem.old</code>; the latter format is supported.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../monitoring/install-rsv-gwms-tester/" title="RSV GlideinWMS Tester" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                RSV GlideinWMS Tester
              </span>
            </div>
          </a>
        
        
          <a href="../install-bestman-xrootd/" title="Install BeStMan Xrootd SE" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Install BeStMan Xrootd SE
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.1",url:{base:"../.."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-69012-29","opensciencegrid.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>