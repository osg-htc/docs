%LINKCSS%
---+!! %SPACEOUT{ "Install !Bestman !Xrootd SE" }%
%DOC_STATUS_TABLE%
%TOC%

---+ About this Document

This page explains how to install the !BeStMan Storage Element with underlying !XRootD storage.

%NOTE% Starting on 11 February 2014, all OSG-issued Digicert certificates (host, service, and personal) use the SHA-2 algorithm. <span style="color: #F60;">The !BeStMan software must be on a recent version to support SHA-2 certificates.</span> Please visit [[SHA2Compliance][our SHA-2 compliance page]] for more information about minimum required versions of software components.


---+ Requirements

---++ Host and OS

   * OS is %SUPPORTED_OS%. 
   * [[http://fedoraproject.org/wiki/EPEL][EPEL]] repos enabled.
   * A working !XRootD Server.  See Documentation/Release3.InstallXrootd for details.
   * Root access

---++ Users

This installation will create several users unless they are already created.

%STARTSECTION{"Users"}%
| *User* | *Comment* |
| =bestman= | Used by Bestman SRM server (needs sudo access). |
| =daemon= | Used by globus-gridftp-server. |
| =xrootd= | Used by the xrootd client to contact xrootd redirector. |
%ENDSECTION{"Users"}%

For this package to function correctly, you will have to create the users 
needed for grid operation.  Any user that can be authenticated should be created.

For grid-mapfile users, each line of the grid-mapfile is a certificate/user pair.  Each user in this file should be created on the server.

For gums users, this means that each user that can be authenticated by gums should be created on the server.

Note that these users must be kept in sync with the authentication method.  For instance, if new users or rules are added in gums, then new users should also be added here.

---++ Certificates

%STARTSECTION{"Certificates"}%
| *Certificate* | *User that owns certificate* | *Path to certificate* |
| Host certificate | =root= | =/etc/grid-security/hostcert.pem= <br> =/etc/grid-security/hostkey.pem= |
| Bestman service certificate | =bestman= | =/etc/grid-security/bestman/bestmancert.pem= <br> =/etc/grid-security/bestman/bestmankey.pem= |
%ENDSECTION{"Certificates"}%

[[InstallCertScripts][Instructions]] to request a service certificate.

You will also need a copy of CA certificates (see below).

---++ Networking

%STARTSECTION{"Firewalls"}%
%INCLUDE{"Documentation/Release3.FirewallInformation" section="FirewallTable" lines="gridftp,srm2,portrange,portsource"}% \
%ENDSECTION{"Firewalls"}%


---+ Install Instructions

Note that this package is primarily intended for Bestman-Gateway acting as an endpoint for !XRootD server.  If you have not installed an !XRootD server yet, follow the instructions in Documentation/Release3.InstallXrootd.

%INCLUDE{"YumRepositories" section="OSGRepoBrief" headingoffset="1"}%

---++ Certificates 
!GridFTP, which is a part of this meta-package, requires a certificate package to run.  If you require a specific certificate package, follow the Documentation/Release3.InstallCertAuth instructions to install it.   If you do not install a grid certificate package first, the install procedure will install one for you as part of its dependencies.  (usually osg-ca-certs).


---++ Package installation instructions

   1. Install Java using [[Documentation/Release3.InstallSoftwareWithOpenJDK7#InstallingJava][these instructions]]
   1. Install the !BeStMan Gateway !XRootD Storage element meta-package:\
<pre class="rootscreen">
%UCL_PROMPT_ROOT% yum install osg-se-bestman-xrootd
</pre> 


---++ Configuring !GridFTP authentication

For information on how to configure authentication for your !GridFTP installation, please refer to the [[InstallOSGGridFTP#ConfiguringAuthentication][configuring authentication section of the GridFTP guide]].


---++ Configuring !GridFTP !XRootD support

%STARTSECTION{"dsi"}%
In order to configure !GridFTP to work with !XRootD, you will need to configure the 
Data Storage Interface (DSI) module with Xrootd pre-load libraries. This module is used to access Xrootd and POSIX file systems. 

Edit =/etc/sysconfig/xrootd-dsi= (create it if it is missing) and set XROOTD_VMP (!XRootD Virtual Mount Point) 
to use your Xrootd redirector.
<pre class="file">
export XROOTD_VMP="%RED%redirector:1094:/local_path=/remote_path%ENDCOLOR%"
</pre> 

*NOTE:* The syntax of the above environment variable is a little confusing, so make sure that you 
adhere to the following directions for XROOTD_VMP (Virtual Mount Point):
   * Redirector:  This is the hostname and domain of the local !XRootD redirector server.
   * local_path:  This is the path used to access the !GridFTP server (ie this server).
   * remote_path:  This is the path used to access the !XRootD redirector.

*Note:* The xrootd-dsi module overloads the =gridftp.conf= file and uses the alternate file =/etc/xrootd-dsi/gridftp-xrootd.conf=.  If you have made local changes to your =gridftp.conf= file, then you will need to carry them over to =/etc/xrootd-dsi/gridftp-xrootd.conf=.

%ENDSECTION{"dsi"}%

---++ Configuring xrootdfs

%STARTSECTION{"mount"}%


Though the DSI module will work for !GridFTP, you will need a FUSE mount in order for !BeStMan to work correctly with !XRootD.  
Configure it using the following steps.

Modify ==/etc/fstab== by adding the following entries:
<pre class="file">
....
xrootdfs                %RED%/mnt/xrootd%ENDCOLOR%              fuse    rdr=xroot://%RED%redirector1.domain.com%ENDCOLOR%:1094/%RED%/path/%ENDCOLOR%,uid=xrootd 0 0
</pre>
Replace =/mnt/xrootd= with the path that you would like to access with !BeStMan.  This should also match the !GridFTP settings for the =XROOTD_VMP= local path.
Create ==/mnt/xrootd== directory.
Once you are finished, you can mount it:
<pre class="file">
mount /mnt/xrootd
</pre>

You should now be able to run UNIX commands such as =ls /mnt/xrootd= to see the contents of the !XRootD server.

%ENDSECTION{"mount"}%


---+++ (Optional) Configuring secured xrootdfs

%STARTSECTION{"secured"}%

If you want to enable security for access to xrootd via xrootdfs you will need to modify xrootd  configuration and perform several steps to make xrootdfs secured.
   1. On the xrootd redirector node, execute the following command:<pre class="rootscreen">$ xrdsssadmin -k  %RED%my_key_name%ENDCOLOR% -u anybody -g usrgroup add %RED%keyfile%ENDCOLOR% </pre> e.g:<pre class="rootscreen">xrdsssadmin -k top_secret  -u anybody -g usrgroup add /etc/xrootd/xrootd.key</pre>
   1. Set ownership<pre class="rootscreen">chown xrootd.xrootd /etc/xrootd/xrootd.key</pre> 
   1. On the node where xrootdfs is installed modify ==/etc/fstab== add security information:<pre class="rootscreen">
xrootdfs                %RED%/mnt/xrootd%ENDCOLOR%              fuse    rdr=xroot://%RED%redirector1.domain.com%ENDCOLOR%:1094/%RED%/path/redirector1%ENDCOLOR%,uid=xrootd,sss=%RED%keyfile%ENDCOLOR%  0 0</pre>
   1. On all xrootd data servers and redirector node, modify xrootd configuration (==/etc/xrootd/xrootd-clustered.cfg==) by adding the following segment: <pre class="file">
     # ENABLE_SECURITY_BEGIN
        xrootd.seclib /usr/lib64/libXrdSec.so
        #the line below should be before "sec.protocol ... unix"
        %RED%sec.protocol /usr/lib64  sss -s keyfile%ENDCOLOR%
        sec.protocol /usr/lib64 unix
        # this specify that we use the 'unix' authentication module, additional one can be specified.
        # this is the authorization file
        acc.authdb /etc/xrootd/auth_file
        ofs.authorize
        # ENABLE_SECURITY_END
</pre>
   1. On all xrootd data server nodes, edit /etc/xrootd/auth_file to add authorized users of the form =u %RED%username%ENDCOLOR% %RED%/directoryname%ENDCOLOR% lr= where "lr" is the permission set.
   1. Copy  %RED%keyfile%ENDCOLOR%  from redirector node to every data server node and the xrootdfs node.  Make sure that this file is owned by the =xrootd= user.
   1. Restart xrootd cluster by following [[https://twiki.grid.iu.edu/bin/view/SoftwareTeam/HowToInstallXrootd][these instructions]]
   1. On xroodfs node execute mount:<pre class="rootscreen">
$ mount %RED%/mnt/xrootd%ENDCOLOR%
</pre>
   1. Verify that you can access the mount point (df,ls) and can not write into unauthorized path, e.g:<pre class="rootscreen">
$ cp /bin/sh /mnt/xrootd/tlevshin/test1
cp: cannot create regular file `/mnt/xrootd/tlevshin/test1': Permission denied
</pre> Login as yourself and try, e.g:<pre class="rootscreen">
$ su - tlevshin
$ cp /bin/sh /mnt/xrootd/tlevshin/test1
</pre>

%ENDSECTION{"secured"}%


---++Edit Bestman Settings

%INCLUDE{"InstallOSGBestmanSE" section="Settings" }%


---++ Modify =/etc/sudoers=


%INCLUDE{"InstallOSGBestmanSE" section="Sudoers" }%

---+++ (Optional) Copying certificates to a bestman location

%INCLUDE{"InstallOSGBestmanSE" section="Certificate" }%

---++ Configure Xrootd Gratia Probes

%STARTSECTION{"gratia"}%
!XRootD gratia probes can push monitoring information to a central gratia collector.  You may want to configure and enable Gratia xrootd transfer and storage probes in order to store this information.   The packages =gratia-probe-xrootd-storage= and =gratia-probe-xrootd-transfer= are installed as part of the above installation, but you will
need to configure them.
In order to do so you have to modify configuration ==/etc/gratia/xrootd-transfer/ProbeConfig== and ==/etc/gratia/xrootd-storage/ProbeConfig==:<pre class="file">
    CollectorHost="gratia-osg-%RED%itb%ENDCOLOR%.opensciencegrid.org:80"
    SSLHost="gratia-osg-%RED%itb%ENDCOLOR%.opensciencegrid.org:443"
    SSLRegistrationHost="gratia-osg-%RED%itb%ENDCOLOR%.opensciencegrid.org:80"

    SiteName="%RED%YOUR SITE NAME%ENDCOLOR%"
    Grid="OSG-%RED%ITB%ENDCOLOR%"
    EnableProbe="%RED%1%ENDCOLOR%"
</pre>
*Note:*  In the above files, you will need to configure the correct gratia hosts.  An example is given for ITB (Trash/Trash/Integration test bed) and test sites.  
For production sites, you can change =itb= to =prod=.


You will also need to configure ==/etc/gums/gums-client.properties== in order to accurately collect grid resource usage and metrics by VO for transfer submitted using grid proxies or where voms proxy information is not available.<pre class="file">
gums.location=https://%RED%GUMS_HOST%ENDCOLOR%:8443/gums/services/GUMSAdmin
gums.authz=https://%RED%GUMS_HOST%ENDCOLOR%:8443/gums/services/GUMSXACMLAuthorizationServicePort
</pre>
%ICON{warning}% if you are not using a default port (8443) you have to change it as well.

%ENDSECTION{"gratia"}%

---+ Validation

Validation can be done similar to a stand-alone !BeStMan or !GridFTP server.
For more information, see [[Documentation/Release3.InstallOSGBestmanSE#Validation_of_Service_Operation][BeStMan Validation]]
and [[Documentation/Release3.InstallOSGGridFTP#Validation_of_services][GridFTP Validation]].

---+ Starting Services
1. fetch-crl

%INCLUDE{"InstallCertAuth" section="OSGBriefFetchCrlStart"}%

%INCLUDE{"InstallCertAuth" section="OSGBriefFetchCrlEnable"}%

2. !GridFTP

Starting !GridFTP:
<pre class="rootscreen">
%UCL_PROMPT_ROOT% service globus-gridftp-server start
</pre>

To start !Gridftp automatically at boot time
<pre class="rootscreen">
%UCL_PROMPT_ROOT% chkconfig globus-gridftp-server on
</pre>


3. Bestman

%INCLUDE{"InstallOSGBestmanSE" section="Starting" }%

4. Gratia transfer and storage probes

%STARTSECTION{"gratia2start"}%
<pre class="rootscreen">
%UCL_PROMPT_ROOT% service gratia-xrootd-transfer start
%UCL_PROMPT_ROOT% service gratia-xrootd-storage start
</pre> 
%ENDSECTION{"gratia2start"}%

---+ Stopping Services
1. fetch-crl

* (other grid service running on the machine may still use it) %INCLUDE{"InstallCertAuth" section="OSGBriefFetchCrlStop"}%

* (other grid service running on the machine may still use it) %INCLUDE{"InstallCertAuth" section="OSGBriefFetchCrlDisable"}%

2. !GridFTP

Stopping !GridFTP:
<pre class="rootscreen">
%UCL_PROMPT_ROOT% service globus-gridftp-server stop
</pre> 

3. Bestman

%INCLUDE{"InstallOSGBestmanSE" section="Stopping" }%

4. Gratia transfer and storage probes

%STARTSECTION{"gratia2stop"}%
<pre class="rootscreen">
%UCL_PROMPT_ROOT% service gratia-xrootd-transfer stop
%UCL_PROMPT_ROOT% service gratia-xrootd-storage stop
</pre> 
%ENDSECTION{"gratia2stop"}%

---+ Notes on Upgrading !BeStMan

%INCLUDE{"InstallOSGBestmanSE" section="Upgrade" }%

---+ Screen Dump of Install Procedure 

%TWISTY{
mode="div"
showlink="Click here for a full installation example."
hidelink="Hide the example"
showimgleft="%ICONURLPATH{toggleopen-small}%"
hideimgleft="%ICONURLPATH{toggleclose-small}%"
}%
<pre class="screen">
[root@fermicloud110 ~]# wget http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm
--2011-10-18 17:20:28--  http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm
Resolving download.fedoraproject.org... 140.211.169.197, 152.19.134.146, 209.132.181.16, ...
Connecting to download.fedoraproject.org|140.211.169.197|:80... connected.
HTTP request sent, awaiting response... 302 FOUND
Location: http://mirror.seas.harvard.edu/epel/5/i386/epel-release-5-4.noarch.rpm [following]
--2011-10-18 17:20:29--  http://mirror.seas.harvard.edu/epel/5/i386/epel-release-5-4.noarch.rpm
Resolving mirror.seas.harvard.edu... 140.247.173.13
Connecting to mirror.seas.harvard.edu|140.247.173.13|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 12232 (12K) [application/x-rpm]
Saving to: `epel-release-5-4.noarch.rpm'

100%[=======================================================================================================

2011-10-18 17:20:29 (269 KB/s) - `epel-release-5-4.noarch.rpm' saved [12232/12232]

[root@fermicloud110 ~]# rpm -i epel-release-5-4.noarch.rpm
warning: epel-release-5-4.noarch.rpm: Header V3 DSA signature: NOKEY, key ID 217521f6
[root@fermicloud110 ~]# yum -y install yum-priorities
Loaded plugins: kernel-module
epel
epel/primary_db
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package yum-priorities.noarch 0:1.1.16-14.el5 set to be updated
--> Finished Dependency Resolution
Beginning Kernel Module Plugin
Finished Kernel Module Plugin

Dependencies Resolved

============================================================================================================
 Package                                                      Arch
============================================================================================================
Installing:
 yum-priorities                                               noarch

Transaction Summary
============================================================================================================
Install       1 Package(s)
Upgrade       0 Package(s)

Total download size: 14 k
Downloading Packages:
yum-priorities-1.1.16-14.el5.noarch.rpm
Running rpm_check_debug
Running Transaction Test
Finished Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : yum-priorities

Installed:
  yum-priorities.noarch 0:1.1.16-14.el5

Complete!
[root@fermicloud110 ~]# rpm -Uvh http://repo.grid.iu.edu/osg-release-latest.rpm
Retrieving http://repo.grid.iu.edu/osg-release-latest.rpm
warning: /var/tmp/rpm-xfer.Hu4qui: Header V3 DSA signature: NOKEY, key ID 824b8603
Preparing...                ########################################### [100%]
   1:osg-release            ########################################### [100%]
[root@fermicloud110 ~]# yum --enablerepo=$REPO install osg-se-bestman-xrootd
Loaded plugins: kernel-module, priorities


Error getting repository data for , repository not found
[root@fermicloud110 ~]# yum --enablerepo=osg-testing install osg-se-bestman-xrootd
Loaded plugins: kernel-module, priorities
osg
osg/primary_db
osg-testing
osg-testing/primary_db
1232 packages excluded due to repository priority protections
Setting up Install Process
Resolving Dependencies
--> Running transaction check
---> Package osg-se-bestman-xrootd.x86_64 0:3.0.0-3 set to be updated
--> Processing Dependency: gums-client for package: osg-se-bestman-xrootd
--> Processing Dependency: bestman2-tester for package: osg-se-bestman-xrootd
--> Processing Dependency: xrootd-fuse for package: osg-se-bestman-xrootd
--> Processing Dependency: bestman2-server for package: osg-se-bestman-xrootd
--> Processing Dependency: java-1.6.0-sun-compat for package: osg-se-bestman-xrootd
--> Processing Dependency: edg-mkgridmap for package: osg-se-bestman-xrootd
--> Processing Dependency: fetch-crl for package: osg-se-bestman-xrootd
--> Processing Dependency: grid-certificates for package: osg-se-bestman-xrootd
--> Processing Dependency: globus-gridftp-server-progs for package: osg-se-bestman-xrootd
--> Processing Dependency: vo-client for package: osg-se-bestman-xrootd
--> Processing Dependency: gratia-probe-gridftp-transfer for package: osg-se-bestman-xrootd
--> Processing Dependency: bestman2-client for package: osg-se-bestman-xrootd
--> Processing Dependency: xrootd-dsi for package: osg-se-bestman-xrootd
--> Processing Dependency: gratia-probe-xrootd-storage for package: osg-se-bestman-xrootd
--> Processing Dependency: gratia-probe-xrootd-transfer for package: osg-se-bestman-xrootd
--> Processing Dependency: liblcas_lcmaps_gt4_mapping.so.0()(64bit) for package: osg-se-bestman-xrootd
--> Running transaction check
---> Package bestman2-client.noarch 0:2.1.3-1 set to be updated
--> Processing Dependency: bestman2-common-libs = 2.1.3-1 for package: bestman2-client
--> Processing Dependency: bestman2-client-libs = 2.1.3-1 for package: bestman2-client
---> Package bestman2-server.noarch 0:2.1.3-1 set to be updated
--> Processing Dependency: bestman2-server-dep-libs = 2.1.3-1 for package: bestman2-server
--> Processing Dependency: bestman2-server-libs = 2.1.3-1 for package: bestman2-server
---> Package bestman2-tester.noarch 0:2.1.3-1 set to be updated
--> Processing Dependency: bestman2-tester-libs = 2.1.3-1 for package: bestman2-tester
---> Package edg-mkgridmap.noarch 0:4.0.0-3.osg set to be updated
--> Processing Dependency: perl(Net::LDAPS) for package: edg-mkgridmap
--> Processing Dependency: vo-client-edgmkgridmap for package: edg-mkgridmap
--> Processing Dependency: perl-Net-SSLeay for package: edg-mkgridmap
--> Processing Dependency: perl(Net::LDAP::Util) for package: edg-mkgridmap
--> Processing Dependency: perl(Net::LDAP) for package: edg-mkgridmap
--> Processing Dependency: osg-vo-map for package: edg-mkgridmap
--> Processing Dependency: perl(Term::ReadKey) for package: edg-mkgridmap
--> Processing Dependency: perl(XML::DOM) for package: edg-mkgridmap
--> Processing Dependency: perl-Crypt-SSLeay for package: edg-mkgridmap
---> Package fetch-crl.noarch 0:2.8.4-2.el5 set to be updated
---> Package globus-gridftp-server-progs.x86_64 0:6.1-5.osg set to be updated
--> Processing Dependency: globus-gridftp-server = 6.1-5.osg for package: globus-gridftp-server-progs
--> Processing Dependency: globus-xio-gsi-driver >= 2 for package: globus-gridftp-server-progs
--> Processing Dependency: perl(Globus::Core::Paths) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gssapi_gsi.so.9(globus_gssapi_gsi)(64bit) for package: globus-gridftp-s
--> Processing Dependency: libglobus_gsi_credential.so.5()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gssapi_error.so.4()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_io.so.8()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_cert_utils.so.8()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_callout.so.2()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_openssl.so.3()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_authz.so.2()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_authz_callout_error.so.2()(64bit) for package: globus-gridftp-serve
--> Processing Dependency: libglobus_common.so.14()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_proxy_ssl.so.4()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_xio.so.3()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_proxy_core.so.6()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gfork.so.3()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gridftp_server_control.so.2()(64bit) for package: globus-gridftp-server
--> Processing Dependency: libglobus_ftp_control.so.4()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gss_assist.so.8()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_openssl_error.so.2()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gridftp_server.so.6()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_sysconfig.so.5()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_usage.so.3()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gsi_callback.so.4()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_gssapi_gsi.so.9()(64bit) for package: globus-gridftp-server-progs
--> Processing Dependency: libglobus_oldgaa.so.4()(64bit) for package: globus-gridftp-server-progs
---> Package gratia-probe-gridftp-transfer.noarch 0:1.09-0.4.1.pre set to be updated
--> Processing Dependency: gratia-probe-common >= 1.09-0.4.1.pre for package: gratia-probe-gridftp-transfer
--> Processing Dependency: netlogger for package: gratia-probe-gridftp-transfer
---> Package gratia-probe-xrootd-storage.noarch 0:1.09-0.4.1.pre set to be updated
--> Processing Dependency: gratia-probe-services = 1.09-0.4.1.pre for package: gratia-probe-xrootd-storage
---> Package gratia-probe-xrootd-transfer.noarch 0:1.09-0.4.1.pre set to be updated
---> Package gums-client.noarch 0:1.3.18.002-3 set to be updated
--> Processing Dependency: gums = 1.3.18.002 for package: gums-client
---> Package java-1.6.0-sun-compat.x86_64 0:1.6.0.26-3.sl5.jpp set to be updated
--> Processing Dependency: jdk = 2000:1.6.0_26-fcs for package: java-1.6.0-sun-compat
--> Processing Dependency: jpackage-utils >= 1.7.3 for package: java-1.6.0-sun-compat
--> Processing Dependency: /usr/bin/xsltproc for package: java-1.6.0-sun-compat
--> Processing Dependency: /usr/bin/xsltproc for package: java-1.6.0-sun-compat
---> Package lcas-lcmaps-gt4-interface.x86_64 0:0.1.4-6.osg set to be updated
--> Processing Dependency: liblcas.so.0()(64bit) for package: lcas-lcmaps-gt4-interface
--> Processing Dependency: liblcmaps.so.0()(64bit) for package: lcas-lcmaps-gt4-interface
--> Processing Dependency: libglobus_gridmap_callout_error.so.1()(64bit) for package: lcas-lcmaps-gt4-interf
---> Package osg-ca-certs.noarch 0:1.24-1 set to be updated
---> Package vo-client.noarch 0:38-9.osg set to be updated
---> Package xrootd-dsi.x86_64 0:3.0.4-7 set to be updated
--> Processing Dependency: xrootd-client for package: xrootd-dsi
--> Processing Dependency: xrootd-libs for package: xrootd-dsi
---> Package xrootd-fuse.x86_64 1:3.0.5-1.osg.xu set to be updated
--> Processing Dependency: libfuse.so.2(FUSE_2.2)(64bit) for package: xrootd-fuse
--> Processing Dependency: libfuse.so.2(FUSE_2.6)(64bit) for package: xrootd-fuse
--> Processing Dependency: libfuse.so.2(FUSE_2.5)(64bit) for package: xrootd-fuse
--> Processing Dependency: fuse for package: xrootd-fuse
--> Processing Dependency: libfuse.so.2()(64bit) for package: xrootd-fuse
--> Running transaction check
---> Package bestman2-client-libs.noarch 0:2.1.3-1 set to be updated
---> Package bestman2-common-libs.noarch 0:2.1.3-1 set to be updated
---> Package bestman2-server-dep-libs.noarch 0:2.1.3-1 set to be updated
---> Package bestman2-server-libs.noarch 0:2.1.3-1 set to be updated
---> Package bestman2-tester-libs.noarch 0:2.1.3-1 set to be updated
---> Package fuse.x86_64 0:2.7.4-8.el5 set to be updated
---> Package fuse-libs.x86_64 0:2.7.4-8.el5 set to be updated
---> Package globus-authz.x86_64 0:2.0-2.osg set to be updated
---> Package globus-authz-callout-error.x86_64 0:2.0-2.osg set to be updated
---> Package globus-callout.x86_64 0:2.0-2.osg set to be updated
--> Processing Dependency: libltdl.so.3()(64bit) for package: globus-callout
---> Package globus-common.x86_64 0:14.0-3.osg set to be updated
---> Package globus-ftp-control.x86_64 0:4.0-2.osg set to be updated
---> Package globus-gfork.x86_64 0:3.0-2.osg set to be updated
---> Package globus-gridftp-server.x86_64 0:6.1-5.osg set to be updated
---> Package globus-gridftp-server-control.x86_64 0:2.0-3.osg set to be updated
--> Processing Dependency: globus-xio-pipe-driver >= 2 for package: globus-gridftp-server-control
---> Package globus-gridmap-callout-error.x86_64 0:1.1-1.osg set to be updated
---> Package globus-gsi-callback.x86_64 0:4.0-2.osg set to be updated
---> Package globus-gsi-cert-utils.x86_64 0:8.0-2.osg set to be updated
---> Package globus-gsi-credential.x86_64 0:5.0-3.osg set to be updated
---> Package globus-gsi-openssl-error.x86_64 0:2.0-2.osg set to be updated
---> Package globus-gsi-proxy-core.x86_64 0:6.0-2.osg set to be updated
---> Package globus-gsi-proxy-ssl.x86_64 0:4.0-2.osg set to be updated
---> Package globus-gsi-sysconfig.x86_64 0:5.0-3.osg set to be updated
---> Package globus-gss-assist.x86_64 0:8.0-2.osg set to be updated
---> Package globus-gssapi-error.x86_64 0:4.0-2.osg set to be updated
---> Package globus-gssapi-gsi.x86_64 0:10.0-1.osg set to be updated
---> Package globus-io.x86_64 0:9.0-2.osg set to be updated
---> Package globus-openssl-module.x86_64 0:3.0-2.osg set to be updated
---> Package globus-usage.x86_64 0:3.0-2.osg set to be updated
---> Package globus-xio.x86_64 0:3.0-3.osg set to be updated
---> Package globus-xio-gsi-driver.x86_64 0:2.0-2.osg set to be updated
---> Package gratia-probe-common.noarch 0:1.09-0.4.1.pre set to be updated
--> Processing Dependency: pyOpenSSL for package: gratia-probe-common
---> Package gratia-probe-services.noarch 0:1.09-0.4.1.pre set to be updated
---> Package gums.noarch 0:1.3.18.002-3 set to be updated
---> Package jdk.x86_64 2000:1.6.0_26-fcs set to be updated
---> Package jpackage-utils.noarch 0:1.7.3-1jpp.2.el5 set to be updated
---> Package lcas.x86_64 0:1.3.13-8.osg set to be updated
--> Processing Dependency: liblcas_userban.so()(64bit) for package: lcas
---> Package lcmaps.x86_64 0:1.4.28-14.osg set to be updated
--> Processing Dependency: lcmaps-plugins-saz-client for package: lcmaps
--> Processing Dependency: lcmaps-plugins-gums-client for package: lcmaps
--> Processing Dependency: liblcmaps_scas_client.so.0()(64bit) for package: lcmaps
--> Processing Dependency: liblcmaps_verify_proxy.so.0()(64bit) for package: lcmaps
--> Processing Dependency: libvomsapi.so.1()(64bit) for package: lcmaps
--> Processing Dependency: liblcmaps_posix_enf.so.0()(64bit) for package: lcmaps
---> Package libxslt.x86_64 0:1.1.17-2.el5_2.2 set to be updated
---> Package netlogger.noarch 0:4.2.0-1 set to be updated
---> Package osg-vo-map.noarch 0:0.0.1-1.osg set to be updated
---> Package perl-Crypt-SSLeay.x86_64 0:0.51-11.el5 set to be updated
---> Package perl-LDAP.noarch 1:0.33-3.fc6 set to be updated
--> Processing Dependency: perl(Convert::ASN1) for package: perl-LDAP
--> Processing Dependency: perl(XML::SAX::Base) for package: perl-LDAP
--> Processing Dependency: perl(IO::Socket::SSL) for package: perl-LDAP
---> Package perl-Net-SSLeay.x86_64 0:1.30-4.fc6 set to be updated
---> Package perl-TermReadKey.x86_64 0:2.30-5.el5 set to be updated
---> Package perl-XML-DOM.noarch 0:1.44-2.el5 set to be updated
--> Processing Dependency: perl(XML::RegExp) for package: perl-XML-DOM
---> Package vo-client-edgmkgridmap.noarch 0:38-9.osg set to be updated
---> Package xrootd-client.x86_64 1:3.0.5-1.osg.xu set to be updated
---> Package xrootd-libs.x86_64 1:3.0.5-1.osg.xu set to be updated
--> Running transaction check
---> Package globus-xio-pipe-driver.x86_64 0:2.0-2.osg set to be updated
---> Package lcas-plugins-basic.x86_64 0:1.3.5-5.osg set to be updated
---> Package lcmaps-plugins-basic.x86_64 0:1.4.5-1.osg set to be updated
---> Package lcmaps-plugins-gums-client.x86_64 0:0.0.2-2.osg set to be updated
--> Processing Dependency: lcmaps-plugins-scas-client for package: lcmaps-plugins-gums-client
---> Package lcmaps-plugins-saz-client.x86_64 0:0.2.22-7.osg set to be updated
--> Processing Dependency: saml2-xacml2-c-lib for package: lcmaps-plugins-saz-client
--> Processing Dependency: libxacml.so.0()(64bit) for package: lcmaps-plugins-saz-client
---> Package lcmaps-plugins-verify-proxy.x86_64 0:1.4.9-2.osg set to be updated
---> Package libtool-ltdl.x86_64 0:1.5.22-7.el5_4 set to be updated
---> Package perl-Convert-ASN1.noarch 0:0.20-1.1 set to be updated
---> Package perl-IO-Socket-SSL.noarch 0:1.01-1.fc6 set to be updated
---> Package perl-XML-RegExp.noarch 0:0.03-2.el5 set to be updated
---> Package perl-XML-SAX.noarch 0:0.14-8 set to be updated
--> Processing Dependency: perl(XML::NamespaceSupport) for package: perl-XML-SAX
---> Package pyOpenSSL.x86_64 0:0.6-1.p24.7.2.2 set to be updated
---> Package voms.x86_64 0:2.0.6-3.osg set to be updated
--> Running transaction check
---> Package lcmaps-plugins-scas-client.x86_64 0:0.2.22-7.osg set to be updated
---> Package perl-XML-NamespaceSupport.noarch 0:1.09-1.2.1 set to be updated
---> Package saml2-xacml2-c-lib.x86_64 0:1.0.1-6.osg set to be updated
--> Finished Dependency Resolution
Beginning Kernel Module Plugin
Finished Kernel Module Plugin

Dependencies Resolved

============================================================================================================
 Package                                                              Arch
============================================================================================================
Installing:
 osg-se-bestman-xrootd                                                x86_64
Installing for dependencies:
 bestman2-client                                                      noarch
 bestman2-client-libs                                                 noarch
 bestman2-common-libs                                                 noarch
 bestman2-server                                                      noarch
 bestman2-server-dep-libs                                             noarch
 bestman2-server-libs                                                 noarch
 bestman2-tester                                                      noarch
 bestman2-tester-libs                                                 noarch
 edg-mkgridmap                                                        noarch
 fetch-crl                                                            noarch
 fuse                                                                 x86_64
 fuse-libs                                                            x86_64
 globus-authz                                                         x86_64
 globus-authz-callout-error                                           x86_64
 globus-callout                                                       x86_64
 globus-common                                                        x86_64
 globus-ftp-control                                                   x86_64
 globus-gfork                                                         x86_64
 globus-gridftp-server                                                x86_64
 globus-gridftp-server-control                                        x86_64
 globus-gridftp-server-progs                                          x86_64
 globus-gridmap-callout-error                                         x86_64
 globus-gsi-callback                                                  x86_64
 globus-gsi-cert-utils                                                x86_64
 globus-gsi-credential                                                x86_64
 globus-gsi-openssl-error                                             x86_64
 globus-gsi-proxy-core                                                x86_64
 globus-gsi-proxy-ssl                                                 x86_64
 globus-gsi-sysconfig                                                 x86_64
 globus-gss-assist                                                    x86_64
 globus-gssapi-error                                                  x86_64
 globus-gssapi-gsi                                                    x86_64
 globus-io                                                            x86_64
 globus-openssl-module                                                x86_64
 globus-usage                                                         x86_64
 globus-xio                                                           x86_64
 globus-xio-gsi-driver                                                x86_64
 globus-xio-pipe-driver                                               x86_64
 gratia-probe-common                                                  noarch
 gratia-probe-gridftp-transfer                                        noarch
 gratia-probe-services                                                noarch
 gratia-probe-xrootd-storage                                          noarch
 gratia-probe-xrootd-transfer                                         noarch
 gums                                                                 noarch
 gums-client                                                          noarch
 java-1.6.0-sun-compat                                                x86_64
 jdk                                                                  x86_64
 jpackage-utils                                                       noarch
 lcas                                                                 x86_64
 lcas-lcmaps-gt4-interface                                            x86_64
 lcas-plugins-basic                                                   x86_64
 lcmaps                                                               x86_64
 lcmaps-plugins-basic                                                 x86_64
 lcmaps-plugins-gums-client                                           x86_64
 lcmaps-plugins-saz-client                                            x86_64
 lcmaps-plugins-scas-client                                           x86_64
 lcmaps-plugins-verify-proxy                                          x86_64
 libtool-ltdl                                                         x86_64
 libxslt                                                              x86_64
 netlogger                                                            noarch
 osg-ca-certs                                                         noarch
 osg-vo-map                                                           noarch
 perl-Convert-ASN1                                                    noarch
 perl-Crypt-SSLeay                                                    x86_64
 perl-IO-Socket-SSL                                                   noarch
 perl-LDAP                                                            noarch
 perl-Net-SSLeay                                                      x86_64
 perl-TermReadKey                                                     x86_64
 perl-XML-DOM                                                         noarch
 perl-XML-NamespaceSupport                                            noarch
 perl-XML-RegExp                                                      noarch
 perl-XML-SAX                                                         noarch
 pyOpenSSL                                                            x86_64
 saml2-xacml2-c-lib                                                   x86_64
 vo-client                                                            noarch
 vo-client-edgmkgridmap                                               noarch
 voms                                                                 x86_64
 xrootd-client                                                        x86_64
 xrootd-dsi                                                           x86_64
 xrootd-fuse                                                          x86_64
 xrootd-libs                                                          x86_64

Transaction Summary
============================================================================================================
Install      82 Package(s)
Upgrade       0 Package(s)

Total download size: 117 M
Is this ok [y/N]: y
Downloading Packages:
(1/82): osg-se-bestman-xrootd-3.0.0-3.x86_64.rpm
(2/82): lcmaps-plugins-gums-client-0.0.2-2.osg.x86_64.rpm
(3/82): vo-client-edgmkgridmap-38-9.osg.noarch.rpm
(4/82): globus-gridmap-callout-error-1.1-1.osg.x86_64.rpm
(5/82): osg-vo-map-0.0.1-1.osg.noarch.rpm
(6/82): bestman2-tester-2.1.3-1.noarch.rpm
(7/82): perl-XML-RegExp-0.03-2.el5.noarch.rpm
(8/82): globus-authz-callout-error-2.0-2.osg.x86_64.rpm
(9/82): gratia-probe-xrootd-storage-1.09-0.4.1.pre.noarch.rpm
(10/82): gratia-probe-xrootd-transfer-1.09-0.4.1.pre.noarch.rpm
(11/82): xrootd-dsi-3.0.4-7.x86_64.rpmhttps://twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#Valihttps://twiki.grid.iu.edu/bin/view/Documentation/Release3/InstallOSGBestmanSE#Validation_of_Service_Operationdation_of_Service_Operation
(12/82): gums-client-1.3.18.002-3.noarch.rpm
(13/82): globus-gssapi-error-4.0-2.osg.x86_64.rpm
(14/82): globus-authz-2.0-2.osg.x86_64.rpm
(15/82): globus-openssl-module-3.0-2.osg.x86_64.rpm
(16/82): xrootd-fuse-3.0.5-1.osg.xu.x86_64.rpm
(17/82): vo-client-38-9.osg.noarch.rpm
(18/82): perl-XML-NamespaceSupport-1.09-1.2.1.noarch.rpm
(19/82): globus-gsi-openssl-error-2.0-2.osg.x86_64.rpm
(20/82): globus-usage-3.0-2.osg.x86_64.rpm
(21/82): globus-callout-2.0-2.osg.x86_64.rpm
(22/82): globus-xio-pipe-driver-2.0-2.osg.x86_64.rpm
(23/82): gratia-probe-services-1.09-0.4.1.pre.noarch.rpm
(24/82): globus-gsi-proxy-ssl-4.0-2.osg.x86_64.rpm
(25/82): lcas-lcmaps-gt4-interface-0.1.4-6.osg.x86_64.rpm
(26/82): globus-gsi-cert-utils-8.0-2.osg.x86_64.rpm                                                                                                                                                                  |  18 kB     00:00
(27/82): globus-gfork-3.0-2.osg.x86_64.rpm                                                                                                                                                                           |  19 kB     00:00
(28/82): bestman2-server-2.1.3-1.noarch.rpm                                          |  21 kB     00:00
(29/82): edg-mkgridmap-4.0.0-3.osg.noarch.rpm                                        |  21 kB     00:00
(30/82): gratia-probe-gridftp-transfer-1.09-0.4.1.pre.noarch.rpm                     |  22 kB     00:00
(31/82): lcas-plugins-basic-1.3.5-5.osg.x86_64.rpm                                   |  23 kB     00:00
(32/82): lcmaps-plugins-verify-proxy-1.4.9-2.osg.x86_64.rpm                          |  23 kB     00:00
(33/82): fetch-crl-2.8.4-2.el5.noarch.rpm                                            |  24 kB     00:00
(34/82): bestman2-client-2.1.3-1.noarch.rpm                                          |  24 kB     00:00
(35/82): lcas-1.3.13-8.osg.x86_64.rpm                                                |  28 kB     00:00
(36/82): globus-gsi-sysconfig-5.0-3.osg.x86_64.rpm                                   |  29 kB     00:00
(37/82): perl-TermReadKey-2.30-5.el5.x86_64.rpm                                      |  32 kB     00:00
(38/82): lcmaps-plugins-saz-client-0.2.22-7.osg.x86_64.rpm                           |  32 kB     00:00
(39/82): globus-gss-assist-8.0-2.osg.x86_64.rpm                                      |  34 kB     00:00
(40/82): globus-gsi-credential-5.0-3.osg.x86_64.rpm                                  |  35 kB     00:00
(41/82): globus-gsi-proxy-core-6.0-2.osg.x86_64.rpm                                  |  36 kB     00:00
(42/82): globus-xio-gsi-driver-2.0-2.osg.x86_64.rpm                                  |  37 kB     00:00
(43/82): libtool-ltdl-1.5.22-7.el5_4.x86_64.rpm                                      |  38 kB     00:00
(44/82): lcmaps-plugins-basic-1.4.5-1.osg.x86_64.rpm                                 |  38 kB     00:00
(45/82): lcmaps-plugins-scas-client-0.2.22-7.osg.x86_64.rpm                          |  39 kB     00:00
(46/82): globus-gridftp-server-progs-6.1-5.osg.x86_64.rpm                            |  40 kB     00:00
(47/82): globus-gsi-callback-4.0-2.osg.x86_64.rpm                                    |  41 kB     00:00
(48/82): perl-Convert-ASN1-0.20-1.1.noarch.rpm                                       |  41 kB     00:00
(49/82): globus-io-9.0-2.osg.x86_64.rpm                                              |  44 kB     00:00
(50/82): perl-Crypt-SSLeay-0.51-11.el5.x86_64.rpm                                    |  45 kB     00:00
(51/82): perl-IO-Socket-SSL-1.01-1.fc6.noarch.rpm                                    |  49 kB     00:00
(52/82): globus-gssapi-gsi-10.0-1.osg.x86_64.rpm                                     |  60 kB     00:00
(53/82): jpackage-utils-1.7.3-1jpp.2.el5.noarch.rpm                                  |  61 kB     00:00
(54/82): java-1.6.0-sun-compat-1.6.0.26-3.sl5.jpp.x86_64.rpm                         |  65 kB     00:00
(55/82): fuse-libs-2.7.4-8.el5.x86_64.rpm                                            |  71 kB     00:00
(56/82): globus-ftp-control-4.0-2.osg.x86_64.rpm                                     |  73 kB     00:00
(57/82): globus-gridftp-server-control-2.0-3.osg.x86_64.rpm                          |  77 kB     00:00
(58/82): perl-XML-SAX-0.14-8.noarch.rpm                                              |  77 kB     00:00
(59/82): fuse-2.7.4-8.el5.x86_64.rpm                                                 |  83 kB     00:00
(60/82): lcmaps-1.4.28-14.osg.x86_64.rpm                                             |  89 kB     00:00
(61/82): pyOpenSSL-0.6-1.p24.7.2.2.x86_64.rpm                                        | 120 kB     00:00
(62/82): globus-common-14.0-3.osg.x86_64.rpm                                         | 128 kB     00:00
(63/82): gratia-probe-common-1.09-0.4.1.pre.noarch.rpm                               | 132 kB     00:00
(64/82): perl-XML-DOM-1.44-2.el5.noarch.rpm                                          | 138 kB     00:00
(65/82): globus-gridftp-server-6.1-5.osg.x86_64.rpm                                  | 163 kB     00:00
(66/82): voms-2.0.6-3.osg.x86_64.rpm                                                 | 171 kB     00:00
(67/82): globus-xio-3.0-3.osg.x86_64.rpm                                             | 178 kB     00:00
(68/82): bestman2-tester-libs-2.1.3-1.noarch.rpm                                     | 189 kB     00:00
(69/82): perl-Net-SSLeay-1.30-4.fc6.x86_64.rpm                                       | 192 kB     00:00
(70/82): perl-LDAP-0.33-3.fc6.noarch.rpm                                             | 316 kB     00:00
(71/82): osg-ca-certs-1.24-1.noarch.rpm                                              | 450 kB     00:00
(72/82): libxslt-1.1.17-2.el5_2.2.x86_64.rpm                                         | 488 kB     00:00
(73/82): xrootd-client-3.0.5-1.osg.xu.x86_64.rpm                                     | 496 kB     00:00
(74/82): xrootd-libs-3.0.5-1.osg.xu.x86_64.rpm                                       | 523 kB     00:00
(75/82): saml2-xacml2-c-lib-1.0.1-6.osg.x86_64.rpm                                   | 581 kB     00:00
(76/82): netlogger-4.2.0-1.noarch.rpm                                                | 624 kB     00:00
(77/82): bestman2-client-libs-2.1.3-1.noarch.rpm                                     | 627 kB     00:00
(78/82): bestman2-server-libs-2.1.3-1.noarch.rpm                                     | 779 kB     00:00
(79/82): bestman2-common-libs-2.1.3-1.noarch.rpm                                     | 5.5 MB     00:01
(80/82): bestman2-server-dep-libs-2.1.3-1.noarch.rpm                                 |  11 MB     00:01
(81/82): gums-1.3.18.002-3.noarch.rpm                                                |  25 MB     00:01
(82/82): jdk-1.6.0_26-fcs.x86_64.rpm                                                 |  68 MB     00:01
------------------------------------------------------------------------------------------------------------
Total                                                                       5.8 MB/s | 117 MB     00:20
warning: rpmts_HdrFromFdno: Header V3 DSA signature: NOKEY, key ID 824b8603
osg-testing/gpgkey                                                                   | 1.7 kB     00:00
Importing GPG key 0x824B8603 "OSG Software Team (RPM Signing Key for Koji Packages) <vdt-support@opensciencegrid.org>" from /etc/pki/rpm-gpg/RPM-GPG-KEY-OSG
Is this ok [y/N]: y
warning: rpmts_HdrFromFdno: Header V3 DSA signature: NOKEY, key ID 217521f6
epel/gpgkey                                                                          | 1.7 kB     00:00
Importing GPG key 0x217521F6 "Fedora EPEL <epel@fedoraproject.org>" from /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL
Is this ok [y/N]: y
Running rpm_check_debug
Running Transaction Test
Finished Transaction Test
Transaction Test Succeeded
Running Transaction
  Installing     : globus-gsi-proxy-ssl                                                                1/82
  Installing     : xrootd-libs                                                                         2/82
  Installing     : xrootd-client                                                                       3/82
  Installing     : saml2-xacml2-c-lib                                                                  4/82
  Installing     : lcmaps-plugins-scas-client                                                          5/82
  Installing     : libtool-ltdl                                                                        6/82
  Installing     : globus-common                                                                       7/82
  Installing     : globus-gsi-openssl-error                                                            8/82
  Installing     : globus-openssl-module                                                               9/82
  Installing     : globus-gsi-sysconfig                                                               10/82
  Installing     : globus-gsi-cert-utils                                                              11/82
  Installing     : globus-gsi-callback                                                                12/82
  Installing     : globus-gsi-credential                                                              13/82
  Installing     : globus-gsi-proxy-core                                                              14/82
  Installing     : globus-gssapi-gsi                                                                  15/82
  Installing     : globus-callout                                                                     16/82
  Installing     : globus-gss-assist                                                                  17/82
  Installing     : globus-xio                                                                         18/82
  Installing     : globus-gssapi-error                                                                19/82
  Installing     : globus-xio-gsi-driver                                                              20/82
  Installing     : globus-io                                                                          21/82
  Installing     : globus-authz-callout-error                                                         22/82
  Installing     : globus-authz                                                                       23/82
  Installing     : globus-ftp-control                                                                 24/82
  Installing     : globus-usage                                                                       25/82
  Installing     : globus-gfork                                                                       26/82
  Installing     : perl-Net-SSLeay                                                                    27/82
  Installing     : globus-gridmap-callout-error                                                       28/82
  Installing     : globus-xio-pipe-driver                                                             29/82
  Installing     : globus-gridftp-server-control                                                      30/82
  Installing     : globus-gridftp-server                                                              31/82
  Installing     : globus-gridftp-server-progs                                                        32/82
  Installing     : lcmaps-plugins-saz-client                                                          33/82
  Installing     : xrootd-dsi                                                                         34/82
  Installing     : lcmaps-plugins-verify-proxy                                                        35/82
  Installing     : lcmaps-plugins-basic                                                               36/82
  Installing     : voms                                                                               37/82
  Installing     : perl-Crypt-SSLeay                                                                  38/82
  Installing     : fuse                                                                               39/82
  Installing     : perl-TermReadKey                                                                   40/82
  Installing     : fuse-libs                                                                          41/82
  Installing     : xrootd-fuse                                                                        42/82
  Installing     : pyOpenSSL                                                                          43/82
  Installing     : libxslt                                                                            44/82
  Installing     : gratia-probe-common                                                                45/82
  Installing     : osg-ca-certs                                                                       46/82
  Installing     : vo-client                                                                          47/82
  Installing     : osg-vo-map                                                                         48/82
  Installing     : vo-client-edgmkgridmap                                                             49/82
  Installing     : gratia-probe-services                                                              50/82
  Installing     : gratia-probe-xrootd-storage                                                        51/82
  Installing     : gratia-probe-xrootd-transfer                                                       52/82
  Installing     : perl-IO-Socket-SSL                                                                 53/82
  Installing     : lcmaps-plugins-gums-client                                                         54/82
  Installing     : lcmaps                                                                             55/82
  Installing     : perl-XML-RegExp                                                                    56/82
  Installing     : perl-XML-DOM                                                                       57/82
  Installing     : jpackage-utils                                                                     58/82
  Installing     : netlogger                                                                          59/82
  Installing     : gratia-probe-gridftp-transfer                                                      60/82
  Installing     : jdk                                                                                61/82
Unpacking JAR files...
        rt.jar...
        jsse.jar...
        charsets.jar...
        tools.jar...
        localedata.jar...
        plugin.jar...
        javaws.jar...
        deploy.jar...
  Installing     : java-1.6.0-sun-compat                                                              62/82
  Installing     : bestman2-common-libs                                                               63/82
  Installing     : bestman2-server-libs                                                               64/82
  Installing     : bestman2-tester-libs                                                               65/82
  Installing     : bestman2-tester                                                                    66/82
  Installing     : gums                                                                               67/82
  Installing     : gums-client                                                                        68/82
  Installing     : bestman2-client-libs                                                               69/82
  Installing     : bestman2-client                                                                    70/82
  Installing     : bestman2-server-dep-libs                                                           71/82
  Installing     : bestman2-server                                                                    72/82
  Installing     : perl-Convert-ASN1                                                                  73/82
  Installing     : perl-XML-NamespaceSupport                                                          74/82
  Installing     : perl-XML-SAX                                                                       75/82
  Installing     : perl-LDAP                                                                          76/82
  Installing     : edg-mkgridmap                                                                      77/82
  Installing     : fetch-crl                                                                          78/82
  Installing     : lcas                                                                               79/82
  Installing     : lcas-lcmaps-gt4-interface                                                          80/82
  Installing     : lcas-plugins-basic                                                                 81/82
  Installing     : osg-se-bestman-xrootd                                                              82/82

Installed:
  osg-se-bestman-xrootd.x86_64 0:3.0.0-3

Dependency Installed:
  bestman2-client.noarch 0:2.1.3-1
  bestman2-client-libs.noarch 0:2.1.3-1
  bestman2-common-libs.noarch 0:2.1.3-1
  bestman2-server.noarch 0:2.1.3-1
  bestman2-server-dep-libs.noarch 0:2.1.3-1
  bestman2-server-libs.noarch 0:2.1.3-1
  bestman2-tester.noarch 0:2.1.3-1
  bestman2-tester-libs.noarch 0:2.1.3-1
  edg-mkgridmap.noarch 0:4.0.0-3.osg
  fetch-crl.noarch 0:2.8.4-2.el5
  fuse.x86_64 0:2.7.4-8.el5
  fuse-libs.x86_64 0:2.7.4-8.el5
  globus-authz.x86_64 0:2.0-2.osg
  globus-authz-callout-error.x86_64 0:2.0-2.osg
  globus-callout.x86_64 0:2.0-2.osg
  globus-common.x86_64 0:14.0-3.osg
  globus-ftp-control.x86_64 0:4.0-2.osg
  globus-gfork.x86_64 0:3.0-2.osg
  globus-gridftp-server.x86_64 0:6.1-5.osg
  globus-gridftp-server-control.x86_64 0:2.0-3.osg
  globus-gridftp-server-progs.x86_64 0:6.1-5.osg
  globus-gridmap-callout-error.x86_64 0:1.1-1.osg
  globus-gsi-callback.x86_64 0:4.0-2.osg
  globus-gsi-cert-utils.x86_64 0:8.0-2.osg
  globus-gsi-credential.x86_64 0:5.0-3.osg
  globus-gsi-openssl-error.x86_64 0:2.0-2.osg
  globus-gsi-proxy-core.x86_64 0:6.0-2.osg
  globus-gsi-proxy-ssl.x86_64 0:4.0-2.osg
  globus-gsi-sysconfig.x86_64 0:5.0-3.osg
  globus-gss-assist.x86_64 0:8.0-2.osg
  globus-gssapi-error.x86_64 0:4.0-2.osg
  globus-gssapi-gsi.x86_64 0:10.0-1.osg
  globus-io.x86_64 0:9.0-2.osg
  globus-openssl-module.x86_64 0:3.0-2.osg
  globus-usage.x86_64 0:3.0-2.osg
  globus-xio.x86_64 0:3.0-3.osg
  globus-xio-gsi-driver.x86_64 0:2.0-2.osg
  globus-xio-pipe-driver.x86_64 0:2.0-2.osg
  gratia-probe-common.noarch 0:1.09-0.4.1.pre
  gratia-probe-gridftp-transfer.noarch 0:1.09-0.4.1.pre
  gratia-probe-services.noarch 0:1.09-0.4.1.pre
  gratia-probe-xrootd-storage.noarch 0:1.09-0.4.1.pre
  gratia-probe-xrootd-transfer.noarch 0:1.09-0.4.1.pre
  gums.noarch 0:1.3.18.002-3
  gums-client.noarch 0:1.3.18.002-3
  java-1.6.0-sun-compat.x86_64 0:1.6.0.26-3.sl5.jpp
  jdk.x86_64 2000:1.6.0_26-fcs
  jpackage-utils.noarch 0:1.7.3-1jpp.2.el5
  lcas.x86_64 0:1.3.13-8.osg
  lcas-lcmaps-gt4-interface.x86_64 0:0.1.4-6.osg
  lcas-plugins-basic.x86_64 0:1.3.5-5.osg
  lcmaps.x86_64 0:1.4.28-14.osg
  lcmaps-plugins-basic.x86_64 0:1.4.5-1.osg
  lcmaps-plugins-gums-client.x86_64 0:0.0.2-2.osg
  lcmaps-plugins-saz-client.x86_64 0:0.2.22-7.osg
  lcmaps-plugins-scas-client.x86_64 0:0.2.22-7.osg
  lcmaps-plugins-verify-proxy.x86_64 0:1.4.9-2.osg
  libtool-ltdl.x86_64 0:1.5.22-7.el5_4
  libxslt.x86_64 0:1.1.17-2.el5_2.2
  netlogger.noarch 0:4.2.0-1
  osg-ca-certs.noarch 0:1.24-1
  osg-vo-map.noarch 0:0.0.1-1.osg
  perl-Convert-ASN1.noarch 0:0.20-1.1
  perl-Crypt-SSLeay.x86_64 0:0.51-11.el5
  perl-IO-Socket-SSL.noarch 0:1.01-1.fc6
  perl-LDAP.noarch 1:0.33-3.fc6
  perl-Net-SSLeay.x86_64 0:1.30-4.fc6
  perl-TermReadKey.x86_64 0:2.30-5.el5
  perl-XML-DOM.noarch 0:1.44-2.el5
  perl-XML-NamespaceSupport.noarch 0:1.09-1.2.1
  perl-XML-RegExp.noarch 0:0.03-2.el5
  perl-XML-SAX.noarch 0:0.14-8
  pyOpenSSL.x86_64 0:0.6-1.p24.7.2.2
  saml2-xacml2-c-lib.x86_64 0:1.0.1-6.osg
  vo-client.noarch 0:38-9.osg
  vo-client-edgmkgridmap.noarch 0:38-9.osg
  voms.x86_64 0:2.0.6-3.osg
  xrootd-client.x86_64 1:3.0.5-1.osg.xu
  xrootd-dsi.x86_64 0:3.0.4-7
  xrootd-fuse.x86_64 1:3.0.5-1.osg.xu
  xrootd-libs.x86_64 1:3.0.5-1.osg.xu

Complete!
[root@fermicloud110 ~]# sed -i 's/\#globus_mapping/globus_mapping/' /etc/grid-security/gsi-authz.conf
[root@fermicloud110 ~]# sed -i 's/yourgums.yourdomain/gums.fnal.gov/' /etc/lcmaps.db
[root@fermicloud110 ~]# mkdir /etc/grid-security/bestman
[root@fermicloud110 ~]# cp /etc/grid-security/hostkey.pem /etc/grid-security/bestman/bestmankey.pem
[root@fermicloud110 ~]# cp /etc/grid-security/hostcert.pem /etc/grid-security/bestman/bestmancert.pem
[root@fermicloud110 ~]# chown -R bestman:bestman /etc/grid-security/bestman/
[root@fermicloud110 ~]# sed -i 's/Defaults.*requiretty/#Defaults requiretty/' /etc/sudoers
[root@fermicloud110 ~]# echo "Cmnd_Alias SRM_CMD = /bin/rm, /bin/mkdir, /bin/rmdir, /bin/mv, /bin/ls" >> /et
[root@fermicloud110 ~]# echo 'Runas_Alias SRM_USR = ALL, !root' >> /etc/sudoers
[root@fermicloud110 ~]# echo "bestman ALL=(SRM_USR) NOPASSWD:SRM_CMD" >> /etc/sudoers
[root@fermicloud110 ~]# sed -i 's/BESTMAN_GUMSCERTPATH=.*/BESTMAN_GUMSCERTPATH=\/etc\/grid-security\/bestman
[root@fermicloud110 ~]#  sed -i 's/BESTMAN_GUMSKEYPATH=.*/BESTMAN_GUMSKEYPATH=\/etc\/grid-security\/b
[root@fermicloud110 ~]#  sed -i 's/CertFileName=.*/CertFileName=\/etc\/grid-security\/bestman\/bestma
[root@fermicloud110 ~]#  sed -i 's/KeyFileName=.*/KeyFileName=\/etc\/grid-security\/bestman\/bestmank
[root@fermicloud110 ~]#  sed -i 's/GUMSserviceURL=.*/GUMSserviceURL=https:\/\/gums.fnal.gov:8443\/gum
[root@fermicloud110 ~]#  echo "localPathListAllowed=/tmp;/mnt/xrootd" >> /etc/bestman2/conf/bestman2.rc
[root@fermicloud110 ~]#  echo "supportedProtocolList=gsiftp://$HOSTNAME" >> /etc/bestman2/conf/bestma
[root@fermicloud110 ~]# echo 'export XROOTD_VMP=\"fermicloud126:1094:/mnt/xrootd=/tmp\"' >> /etc/sysconfig/xrootd-dsi
[root@fermicloud110 ~]# echo "xrootdfs                /mnt/xrootd              fuse    rdr=xroot://fermicloud126:1094//tmp/,uid=xrootd 0 0" >> /etc/fstab 
[root@fermicloud110 ~]# mkdir /mnt/xrootd
[root@fermicloud110 ~]# mount /mnt/xrootd/
[root@fermicloud110 ~]# ls -la /mnt/xrootd
total 791
-rw-rw-rw- 1 xrootd xrootd    460 Oct 19 21:01 fermi.krb5.config.xinetd
-rw-rw-rw- 1 xrootd xrootd 801512 Oct 19 20:00 first_test
drwxrwxrwx 1 xrootd xrootd   4096 Oct 19 19:55 .ICE-unix
-rw-rw-rw- 1 xrootd xrootd    244 Oct 19 19:55 ifcfg-eth0
-rw-rw-rw- 1 xrootd xrootd    387 Oct 19 19:55 krb5cc_0_uYAsnZ2033
-rw-rw-rw- 1 xrootd xrootd    200 Oct 19 19:55 network
-rw-rw-rw- 1 xrootd xrootd    118 Oct 19 19:55 tkt0_QQNH7S
-rw-rw-rw- 1 xrootd xrootd     19 Oct 19 21:00 yum.conf.addons
-rw-rw-rw- 1 xrootd xrootd    413 Oct 19 21:00 yum.conf.security
[root@fermicloud110 ~]# service globus-gridftp-server start
Started GridFTP Server                                     [  OK  ]
[root@fermicloud110 ~]# 
[root@fermicloud110 ~]# service bestman2 start
Starting bestman2:                                         [  OK  ]
------------------
Validation:
[dstrain@gw014k0 ~]$  srm-copy file:///home/dstrain/fusesrm-0.1.tar.gz srm://fermicloud110:8443/srm/v2/server?SFN=/mnt/xrootd/stuff_srm23.tar.gz
srm-copy   2.2.1.3.18    Mon Dec 20 20:16:15 PST 2010
BeStMan and SRM-Clients Copyright(c) 2007-2010,
Lawrence Berkeley National Laboratory. All rights reserved.
Support at SRM@LBL.GOV and documents at http://sdm.lbl.gov/bestman
SRM-CLIENT: Wed Oct 19 21:46:23 CDT 2011 Connecting to httpg://fermicloud110:8443/srm/v2/server

SRM-CLIENT: Wed Oct 19 21:46:24 CDT 2011 Calling SrmPrepareToPutRequest now ...
request.token= put:1
Request.status=SRM_SUCCESS
explanation=null

SRM-CLIENT: RequestFileStatus for SURL=file:///home/dstrain/fusesrm-0.1.tar.gz is Ready.
SRM-CLIENT: received TURL=gsiftp://fermicloud110.fnal.gov//mnt/xrootd/stuff_srm23.tar.gz

SRM-CLIENT: Wed Oct 19 21:46:28 CDT 2011 start file transfer
SRM-CLIENT:Source=file:////home/dstrain/fusesrm-0.1.tar.gz
SRM-CLIENT:Target=gsiftp://fermicloud110.fnal.gov//mnt/xrootd/stuff_srm23.tar.gz

SRM-CLIENT: Wed Oct 19 21:46:31 CDT 2011 end file transfer for file:///home/dstrain/fusesrm-0.1.tar.gz

SRM-CLIENT: Wed Oct 19 21:46:31 CDT 2011 Calling putDone for srm://fermicloud110:8443/srm/v2/server?SFN=/mnt/xrootd/stuff_srm23.tar.gz
Result.status=SRM_SUCCESS
Result.Explanation=null

SRM-CLIENT: Request completed with success

SRM-CLIENT: Printing text report now ...

SRM-CLIENT*REQUESTTYPE=put
SRM-CLIENT*TOTALFILES=1
SRM-CLIENT*TOTAL_SUCCESS=1
SRM-CLIENT*TOTAL_FAILED=0
SRM-CLIENT*REQUEST_TOKEN=put:1
SRM-CLIENT*REQUEST_STATUS=SRM_SUCCESS
SRM-CLIENT*SOURCEURL[0]=file:///home/dstrain/fusesrm-0.1.tar.gz
SRM-CLIENT*TARGETURL[0]=srm://fermicloud110:8443/srm/v2/server?SFN=/mnt/xrootd/stuff_srm23.tar.gz
SRM-CLIENT*TRANSFERURL[0]=gsiftp://fermicloud110.fnal.gov//mnt/xrootd/stuff_srm23.tar.gz
SRM-CLIENT*ACTUALSIZE[0]=17881
SRM-CLIENT*FILE_STATUS[0]=SRM_SPACE_AVAILABLE
SRM-CLIENT*EXPLANATION[0]=SRM-CLIENT: PutDone is called successfully



</pre>
%ENDTWISTY% 

---+ How to get Help?



If you cannot resolve the problem, there are several ways to receive help:

   * For bug support and issues, submit a ticket to the [[https://ticket.grid.iu.edu/goc][Grid Operations Center]].
   * For community support and best-effort software team support contact osg-software@opensciencegrid.org.

For a full set of help options, see [[HelpProcedure][Help Procedure]].
<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 ===================

 Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER = DouglasStrain

 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Trash/Trash/Integration|Operations|Tier3)
   * Local DOC_AREA       = Storage

 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (EndUser|Student|Developer|SysAdmin|VOManager)
   * Local DOC_ROLE       = SysAdmin

 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = Installation
  Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

 Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %YES%

 change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %YES%

 change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %YES%

 change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %NO%


 DEAR DOCUMENT REVIEWER
 ======================

 Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = NehaSharma
 Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


 DEAR DOCUMENT TESTER
 ====================

 Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = NehaSharma
 Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %IN_PROGRESS%
############################################################################################################
-->


-- Main.DouglasStrain - 29 Aug 2011
