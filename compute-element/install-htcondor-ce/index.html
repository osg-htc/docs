
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://opensciencegrid.org/docs/compute-element/install-htcondor-ce/">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>Install HTCondor-CE - OSG Site Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-69012-29","opensciencegrid.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installing-and-maintaining-htcondor-ce" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="OSG Site Documentation" class="md-header__button md-logo" aria-label="OSG Site Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OSG Site Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Install HTCondor-CE
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/opensciencegrid/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OSG Site Documentation" class="md-nav__button md-logo" aria-label="OSG Site Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    OSG Site Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/opensciencegrid/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../site-planning/" class="md-nav__link">
        Site Planning
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../common/registration/" class="md-nav__link">
        Registration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../site-verification/" class="md-nav__link">
        Site Verification
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../site-maintenance/" class="md-nav__link">
        Site Maintenance
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../common/help/" class="md-nav__link">
        Help
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      <label class="md-nav__link" for="__nav_7">
        Resource Sharing
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Resource Sharing" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Resource Sharing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1" type="checkbox" id="__nav_7_1" checked>
      
      <label class="md-nav__link" for="__nav_7_1">
        Compute
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Compute" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Compute
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-sharing/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_2" type="checkbox" id="__nav_7_1_2" >
      
      <label class="md-nav__link" for="__nav_7_1_2">
        Pilot Containers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Pilot Containers" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_2">
          <span class="md-nav__icon md-icon"></span>
          Pilot Containers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-sharing/os-backfill-containers/" class="md-nav__link">
        Site Backfill
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-sharing/user-containers/" class="md-nav__link">
        User Allocations
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_3" type="checkbox" id="__nav_7_1_3" checked>
      
      <label class="md-nav__link" for="__nav_7_1_3">
        Compute Entrypoint
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Compute Entrypoint" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_3">
          <span class="md-nav__icon md-icon"></span>
          Compute Entrypoint
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../htcondor-ce-overview/" class="md-nav__link">
        HTCondor-CE Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../hosted-ce/" class="md-nav__link">
        Request a Hosted CE
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Install HTCondor-CE
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Install HTCondor-CE
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-starting" class="md-nav__link">
    Before Starting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-the-osg-yum-repository" class="md-nav__link">
    Choosing the OSG Yum Repository
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-htcondor-ce" class="md-nav__link">
    Installing HTCondor-CE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-htcondor-ce" class="md-nav__link">
    Configuring HTCondor-CE
  </a>
  
    <nav class="md-nav" aria-label="Configuring HTCondor-CE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-the-local-batch-system" class="md-nav__link">
    Configuring the local batch system
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-authentication" class="md-nav__link">
    Configuring authentication
  </a>
  
    <nav class="md-nav" aria-label="Configuring authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gsi-and-voms-osg-35-only" class="md-nav__link">
    GSI and VOMS (OSG 3.5 only)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bearer-tokens-osg-35-upcoming-osg-36" class="md-nav__link">
    Bearer Tokens (OSG 3.5 upcoming, OSG 3.6)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatic-configuration" class="md-nav__link">
    Automatic configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-configuration" class="md-nav__link">
    Optional configuration
  </a>
  
    <nav class="md-nav" aria-label="Optional configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accounting-with-multiple-ces-or-local-user-jobs" class="md-nav__link">
    Accounting with multiple CEs or local user jobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-and-validating-htcondor-ce" class="md-nav__link">
    Starting and Validating HTCondor-CE
  </a>
  
    <nav class="md-nav" aria-label="Starting and Validating HTCondor-CE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabling-osg-accounting-osg-35-only" class="md-nav__link">
    Enabling OSG accounting (OSG 3.5 only)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-htcondor-ce" class="md-nav__link">
    Troubleshooting HTCondor-CE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-the-ce" class="md-nav__link">
    Registering the CE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_4" type="checkbox" id="__nav_7_1_4" >
      
      <label class="md-nav__link" for="__nav_7_1_4">
        Worker Node
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Worker Node" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_4">
          <span class="md-nav__icon md-icon"></span>
          Worker Node
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/using-wn/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-wn/" class="md-nav__link">
        Install from RPM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-wn-tarball/" class="md-nav__link">
        Install from Tarball
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-wn-oasis/" class="md-nav__link">
        Install from OASIS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-cvmfs/" class="md-nav__link">
        Install CVMFS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-singularity/" class="md-nav__link">
        Install Singularity
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/using-wn-containers/" class="md-nav__link">
        Using WN Containers
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      <label class="md-nav__link" for="__nav_7_2">
        Data
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_1" type="checkbox" id="__nav_7_2_1" >
      
      <label class="md-nav__link" for="__nav_7_2_1">
        HTTP & OASIS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HTTP & OASIS" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_1">
          <span class="md-nav__icon md-icon"></span>
          HTTP & OASIS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/run-frontier-squid-container/" class="md-nav__link">
        Running Frontier Squid in a Container
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/frontier-squid/" class="md-nav__link">
        Install Frontier Squid RPM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/update-oasis/" class="md-nav__link">
        Update OASIS Shared Repo
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/external-oasis-repos/" class="md-nav__link">
        Install an OASIS Repo
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_2" type="checkbox" id="__nav_7_2_2" >
      
      <label class="md-nav__link" for="__nav_7_2_2">
        XRootD
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="XRootD" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_2">
          <span class="md-nav__icon md-icon"></span>
          XRootD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/overview/" class="md-nav__link">
        XRootD Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-standalone/" class="md-nav__link">
        Install XRootD Standalone
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-storage-element/" class="md-nav__link">
        Install XRootD SE
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/xrootd-authorization/" class="md-nav__link">
        Configure Authorization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-client/" class="md-nav__link">
        Using XRootD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-cms-xcache/" class="md-nav__link">
        Install CMS XCache
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      <label class="md-nav__link" for="__nav_7_3">
        Other
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Other" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Other
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/configuration-with-osg-configure/" class="md-nav__link">
        Configuration with OSG-Configure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/install-gwms-frontend/" class="md-nav__link">
        Install GlideinWMS Frontend
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/install-cvmfs-stratum1/" class="md-nav__link">
        Install a CVMFS Stratum 1
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/troubleshooting-gratia/" class="md-nav__link">
        Troubleshooting Gratia
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/schedd-filebeats/" class="md-nav__link">
        Install Transfer Log Filebeats
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/osg-token-renewer/" class="md-nav__link">
        Install OSG Token Renewal Service
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4" type="checkbox" id="__nav_7_4" >
      
      <label class="md-nav__link" for="__nav_7_4">
        Deprecated
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Deprecated" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Deprecated
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4_1" type="checkbox" id="__nav_7_4_1" >
      
      <label class="md-nav__link" for="__nav_7_4_1">
        POSIX Storage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="POSIX Storage" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_4_1">
          <span class="md-nav__icon md-icon"></span>
          POSIX Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/gridftp/" class="md-nav__link">
        Install GridFTP Server
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/load-balanced-gridftp/" class="md-nav__link">
        Install Load Balanced GridFTP
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4_2" type="checkbox" id="__nav_7_4_2" >
      
      <label class="md-nav__link" for="__nav_7_4_2">
        HDFS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="HDFS" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_4_2">
          <span class="md-nav__icon md-icon"></span>
          HDFS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/hadoop-overview/" class="md-nav__link">
        HDFS Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/install-hadoop/" class="md-nav__link">
        Install HDFS
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4_3" type="checkbox" id="__nav_7_4_3" >
      
      <label class="md-nav__link" for="__nav_7_4_3">
        Security
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Security" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_4_3">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/lcmaps-voms-authentication/" class="md-nav__link">
        LCMAPS VOMS authentication
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/user-certs/" class="md-nav__link">
        User Certificates
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../other/gsissh/" class="md-nav__link">
        Install GSI-enabled SSH
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/install-rsv/" class="md-nav__link">
        Install RSV
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/advanced-rsv-configuration/" class="md-nav__link">
        Advanced RSV Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/rsv-control/" class="md-nav__link">
        Manage RSV via rsv-control
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/install-rsv-gwms-tester/" class="md-nav__link">
        RSV GlideinWMS Tester
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Access Point
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Access Point" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Access Point
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../submit/osg-flock/" class="md-nav__link">
        Install an OS Pool Access Point
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../submit/ap-ospool-aup/" class="md-nav__link">
        Acceptable Use Policy
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Data Federation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data Federation" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Data Federation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_2" type="checkbox" id="__nav_9_2" >
      
      <label class="md-nav__link" for="__nav_9_2">
        Data Cache
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data Cache" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_2">
          <span class="md-nav__icon md-icon"></span>
          Data Cache
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/run-stashcache-container/" class="md-nav__link">
        Install from container
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/install-cache/" class="md-nav__link">
        Install from RPM
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_3" type="checkbox" id="__nav_9_3" >
      
      <label class="md-nav__link" for="__nav_9_3">
        Data Origin
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data Origin" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_3">
          <span class="md-nav__icon md-icon"></span>
          Data Origin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/run-stash-origin-container/" class="md-nav__link">
        Install from container
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/install-origin/" class="md-nav__link">
        Install from RPM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/vo-data/" class="md-nav__link">
        Publishing VO data
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      <label class="md-nav__link" for="__nav_10">
        Releases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Releases" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/release_series/" class="md-nav__link">
        Release Series
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2" type="checkbox" id="__nav_10_2" >
      
      <label class="md-nav__link" for="__nav_10_2">
        OSG 3.5
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="OSG 3.5" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_2">
          <span class="md-nav__icon md-icon"></span>
          OSG 3.5
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/notes/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/updating-to-osg-35/" class="md-nav__link">
        Updating to OSG 3.5
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_3" type="checkbox" id="__nav_10_3" >
      
      <label class="md-nav__link" for="__nav_10_3">
        OSG 3.6
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="OSG 3.6" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_3">
          <span class="md-nav__icon md-icon"></span>
          OSG 3.6
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/osg-36/" class="md-nav__link">
        News
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/updating-to-osg-36/" class="md-nav__link">
        Updating to OSG 3.6
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/supported_platforms/" class="md-nav__link">
        Supported Platforms
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../common/yum/" class="md-nav__link">
        OSG Yum Repos
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/yum-basics/" class="md-nav__link">
        Yum Basics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../release/signing/" class="md-nav__link">
        RPM Signing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      <label class="md-nav__link" for="__nav_11">
        CA Certificates
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="CA Certificates" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          CA Certificates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../common/ca/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/certificate-management/" class="md-nav__link">
        Certificate Management Reference
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_3" type="checkbox" id="__nav_11_3" >
      
      <label class="md-nav__link" for="__nav_11_3">
        Host Certificates
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Host Certificates" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_3">
          <span class="md-nav__icon md-icon"></span>
          Host Certificates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/host-certs/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/host-certs/incommon/" class="md-nav__link">
        Using InCommon
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../security/host-certs/lets-encrypt/" class="md-nav__link">
        Using Let's Encrypt
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-starting" class="md-nav__link">
    Before Starting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-the-osg-yum-repository" class="md-nav__link">
    Choosing the OSG Yum Repository
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-htcondor-ce" class="md-nav__link">
    Installing HTCondor-CE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-htcondor-ce" class="md-nav__link">
    Configuring HTCondor-CE
  </a>
  
    <nav class="md-nav" aria-label="Configuring HTCondor-CE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-the-local-batch-system" class="md-nav__link">
    Configuring the local batch system
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-authentication" class="md-nav__link">
    Configuring authentication
  </a>
  
    <nav class="md-nav" aria-label="Configuring authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gsi-and-voms-osg-35-only" class="md-nav__link">
    GSI and VOMS (OSG 3.5 only)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bearer-tokens-osg-35-upcoming-osg-36" class="md-nav__link">
    Bearer Tokens (OSG 3.5 upcoming, OSG 3.6)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatic-configuration" class="md-nav__link">
    Automatic configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-configuration" class="md-nav__link">
    Optional configuration
  </a>
  
    <nav class="md-nav" aria-label="Optional configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accounting-with-multiple-ces-or-local-user-jobs" class="md-nav__link">
    Accounting with multiple CEs or local user jobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-and-validating-htcondor-ce" class="md-nav__link">
    Starting and Validating HTCondor-CE
  </a>
  
    <nav class="md-nav" aria-label="Starting and Validating HTCondor-CE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabling-osg-accounting-osg-35-only" class="md-nav__link">
    Enabling OSG accounting (OSG 3.5 only)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-htcondor-ce" class="md-nav__link">
    Troubleshooting HTCondor-CE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-the-ce" class="md-nav__link">
    Registering the CE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/opensciencegrid/docs/edit/master/docs/compute-element/install-htcondor-ce.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="installing-and-maintaining-htcondor-ce">Installing and Maintaining HTCondor-CE<a class="headerlink" href="#installing-and-maintaining-htcondor-ce" title="Permanent link">&para;</a></h1>
<p>The <a href="http://htcondor-ce.org">HTCondor-CE</a> software is a <em>job gateway</em> for an OSG Compute Entrypoint (CE).
As such, the OSG will submit resource allocation requests (RARs) jobs to your HTCondor-CE and it will handle
authorization and delegation of RARs to your local batch system.
In OSG today, RARs are sent to CEs as <em>pilot jobs</em> from a factory, which in turn are able to accept and run end-user jobs.
See the <a href="https://htcondor.github.io/htcondor-ce/architecture/">upstream documentation</a> for a more detailed introduction.</p>
<p>Use this page to learn how to install, configure, run, test, and troubleshoot an OSG HTCondor-CE.</p>
<div class="admonition tip">
<p class="admonition-title">OSG Hosted CE</p>
<p>Unless you plan on running more than 10k concurrently running RARs or plan on making frequent configuration changes,
we suggest <a href="../hosted-ce/">requesting an OSG Hosted CE</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are installing an HTCondor-CE for use outside of the OSG, consult
<a href="https://htcondor.github.io/htcondor-ce/v5/installation/htcondor-ce/">the upstream documentation</a> instead.</p>
</div>
<h2 id="before-starting">Before Starting<a class="headerlink" href="#before-starting" title="Permanent link">&para;</a></h2>
<p>Before starting the installation process, consider the following points, consulting the upstream references as needed
(<a href="https://htcondor.github.io/htcondor-ce/v5/reference/">HTCondor-CE 5</a>,
<a href="https://htcondor.github.io/htcondor-ce/v4/reference/">HTCondor-CE 4</a>):</p>
<ul>
<li><strong>User IDs:</strong> If they do not exist already, the installation will create the Linux users <code>condor</code> (UID 4716) and
    <code>gratia</code> (UID 42401)</li>
<li><strong>SSL certificate:</strong> The HTCondor-CE service uses a host certificate at <code>/etc/grid-security/hostcert.pem</code> and an
    accompanying key at <code>/etc/grid-security/hostkey.pem</code></li>
<li><strong>DNS entries:</strong> Forward and reverse DNS must resolve for the HTCondor-CE host</li>
<li><strong>Network ports:</strong> The pilot factories must be able to contact your HTCondor-CE service on port 9619 (TCP)</li>
<li><strong>Access point/login node:</strong> HTCondor-CE should be installed on a host that already has the ability to submit jobs
    into your local cluster</li>
<li><strong>File Systems</strong>: Non-HTCondor batch systems require a
    <a href="https://htcondor.github.io/htcondor-ce/v5/configuration/local-batch-system/#sharing-the-spool-directory">shared file system</a>
    between the HTCondor-CE host and the batch system worker nodes.</li>
</ul>
<p>As with all OSG software installations, there are some one-time (per host) steps to prepare in advance:</p>
<ul>
<li>Ensure the host has <a href="../../release/supported_platforms/">a supported operating system</a></li>
<li>Obtain root access to the host</li>
<li>Install <a href="../../common/ca/">CA certificates</a></li>
</ul>
<h2 id="choosing-the-osg-yum-repository">Choosing the OSG Yum Repository<a class="headerlink" href="#choosing-the-osg-yum-repository" title="Permanent link">&para;</a></h2>
<div class="admonition danger">
<p class="admonition-title">Before considering OSG 3.6&hellip;</p>
<p>Due to potentially disruptive changes in protocols, contact your virtual organization(s) (VO) to verify that they
support token-based authentication and/or HTTP-based data transfer before considering an upgrade to OSG 3.6.
If your VO(s) don't support these new protocols or you don't know which protocols your VO(s) support,
install or remain on the <a href="../../release/notes/">OSG 3.5 release series</a>.</p>
</div>
<p>The OSG distributes different versions of HTCondor-CE and HTCondor in separate <a href="../../common/yum/">YUM repositories</a>.
Most notably, the repository that you choose will determine the types of credentials that your CE is able to accept.
Use the following table to decide OSG YUM repository to install HTCondor-CE:</p>
<table>
<thead>
<tr>
<th><strong>YUM Repository</strong></th>
<th><strong>Bearer Tokens</strong></th>
<th><strong>GSI and VOMS</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>OSG 3.5 upcoming <strong>(recommended)</strong>: HTCondor-CE 5, HTCondor 9.0</td>
<td>&#9989;</td>
<td>&#9989;</td>
</tr>
<tr>
<td>OSG 3.5 release: HTCondor-CE 4, HTCondor 8.8</td>
<td></td>
<td>&#9989;</td>
</tr>
<tr>
<td>OSG 3.6 release: HTCondor-CE 5, HTCondor 9.0</td>
<td>&#9989;</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="installing-htcondor-ce">Installing HTCondor-CE<a class="headerlink" href="#installing-htcondor-ce" title="Permanent link">&para;</a></h2>
<p>An HTCondor-CE installation consists of the job gateway (i.e., the HTCondor-CE job router) and other support software
(e.g., <code>osg-configure</code>, a Gratia probe for OSG accounting).
To simplify installation, OSG provides convenience RPMs that install all required software.</p>
<ol>
<li>
<p>Clean yum cache:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum clean all --enablerepo<span class="o">=</span>*
</code></pre></div>

</li>
<li>
<p>Update software:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum update
</code></pre></div>

<p>This command will update <strong>all</strong> packages</p>
</li>
<li>
<p><strong>(Optional)</strong> If your batch system is already installed via non-RPM means and is in the following list, install the
   appropriate 'empty' RPM.
   Otherwise, skip to the next step.</p>
<table>
<thead>
<tr>
<th align="left">If your batch system is</th>
<th align="left">Then run the following command</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">HTCondor</td>
<td align="left"><code>yum install empty-condor --enablerepo=osg-empty</code></td>
</tr>
<tr>
<td align="left">SLURM</td>
<td align="left"><code>yum install empty-slurm --enablerepo=osg-empty</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>(Optional)</strong> If your HTCondor batch system is already installed via non-OSG RPM means, add the line below to
<code>/etc/yum.repos.d/osg.repo</code>.
   Otherwise, skip to the next step.</p>
<div class="codehilite"><pre><span></span><code>exclude=condor
</code></pre></div>

</li>
<li>
<p>Select the appropriate convenience RPM:</p>
<table>
<thead>
<tr>
<th align="left">If your batch system is...</th>
<th align="left">Then use the following package...</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">HTCondor</td>
<td align="left"><code>osg-ce-condor</code></td>
</tr>
<tr>
<td align="left">LSF</td>
<td align="left"><code>osg-ce-lsf</code></td>
</tr>
<tr>
<td align="left">PBS</td>
<td align="left"><code>osg-ce-pbs</code></td>
</tr>
<tr>
<td align="left">SGE</td>
<td align="left"><code>osg-ce-sge</code></td>
</tr>
<tr>
<td align="left">SLURM</td>
<td align="left"><code>osg-ce-slurm</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Install the CE software where <code>&lt;PACKAGE&gt;</code> is the package you selected in the above step.:</p>
<ul>
<li>
<p>If you have decided to install from <a href="#choosing-the-osg-yum-repository">3.5 upcoming</a>, run the following command</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum install --enablerepo<span class="o">=</span>osg-upcoming &lt;PACKAGE&gt;
</code></pre></div>

</li>
<li>
<p>Otherwise, run the following command:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum install &lt;PACKAGE&gt;
</code></pre></div>

</li>
</ul>
</li>
</ol>
<h2 id="configuring-htcondor-ce">Configuring HTCondor-CE<a class="headerlink" href="#configuring-htcondor-ce" title="Permanent link">&para;</a></h2>
<p>There are a few required configuration steps to connect HTCondor-CE with your batch system and authentication method.
For more advanced configuration, see the section on <a href="#optional-configuration">optional configurations</a>.</p>
<h3 id="configuring-the-local-batch-system">Configuring the local batch system<a class="headerlink" href="#configuring-the-local-batch-system" title="Permanent link">&para;</a></h3>
<p>To configure HTCondor-CE to integrate with your local batch system, please refer to the upstream documentation based on
your installed version of HTCondor-CE:</p>
<ul>
<li><a href="https://htcondor.github.io/htcondor-ce/v5/configuration/local-batch-system/">HTCondor-CE 5</a></li>
<li><a href="https://htcondor.github.io/htcondor-ce/v4/installation/htcondor-ce/#configuring-the-batch-system">HTCondor-CE 4</a></li>
</ul>
<h3 id="configuring-authentication">Configuring authentication<a class="headerlink" href="#configuring-authentication" title="Permanent link">&para;</a></h3>
<p>Depending on the OSG repository from which you have installed HTCondor-CE, you can allow pilot job submission to your CE
based on X.509 proxies (i.e., GSI and VOMS), bearer tokens, or both.</p>
<h4 id="gsi-and-voms-osg-35-only">GSI and VOMS (OSG 3.5 only)<a class="headerlink" href="#gsi-and-voms-osg-35-only" title="Permanent link">&para;</a></h4>
<p>To configure which VOs and users are authorized to submit pilot jobs to your HTCondor-CE, follow the instructions in
<a href="../../security/lcmaps-voms-authentication/#configuring-the-lcmaps-voms-plugin">the LCMAPS VOMS plugin document</a>.</p>
<h4 id="bearer-tokens-osg-35-upcoming-osg-36">Bearer Tokens (OSG 3.5 upcoming, OSG 3.6)<a class="headerlink" href="#bearer-tokens-osg-35-upcoming-osg-36" title="Permanent link">&para;</a></h4>
<p>To configure which VOs are authorized to submit pilot jobs to your HTCondor-CE, consult the "SciTokens" section of the
<a href="https://htcondor.github.io/htcondor-ce/v5/configuration/authentication/#scitokens">upstream documentation</a>.</p>
<h3 id="automatic-configuration">Automatic configuration<a class="headerlink" href="#automatic-configuration" title="Permanent link">&para;</a></h3>
<p>The OSG CE metapackage brings along a configuration tool, <code>osg-configure</code>, that is designed to automatically configure
the different pieces of software required for an OSG HTCondor-CE:</p>
<ol>
<li>
<p>Enable your batch system in the HTCondor-CE configuration by editing the <code>enabled</code> field in the
    <code>/etc/osg/config.d/20-&lt;YOUR BATCH SYSTEM&gt;.ini</code>:</p>
<div class="codehilite"><pre><span></span><code>enabled = True
</code></pre></div>

</li>
<li>
<p>Read through the other <code>.ini</code> files in the <code>/etc/osg/config.d</code> directory and</p>
</li>
<li>
<p>Validate the configuration settings</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>osg-configure -v
</code></pre></div>

</li>
<li>
<p>Fix any errors (at least) that <code>osg-configure</code> reports.</p>
</li>
<li>
<p>Once the validation command succeeds without errors, apply the configuration settings:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>osg-configure -c
</code></pre></div>

</li>
</ol>
<h3 id="optional-configuration">Optional configuration<a class="headerlink" href="#optional-configuration" title="Permanent link">&para;</a></h3>
<p>In addition to the configurations above, you may need to further configure how pilot jobs are filtered and transformed
before they are submitted to your local batch system or otherwise change the behavior of your CE.
For detailed instructions, please refer to the upstream documentation based on your installed version of HTCondor-CE:</p>
<ul>
<li>HTCondor-CE 5<ul>
<li><a href="https://htcondor.github.io/htcondor-ce/v5/configuration/job-router-overview/">Configuring the Job Router</a></li>
<li><a href="https://htcondor.github.io/htcondor-ce/v5/configuration/optional-configuration/">Optional configuration</a></li>
</ul>
</li>
<li>HTCondor-CE 4<ul>
<li><a href="https://htcondor.github.io/htcondor-ce/v4/batch-system-integration/">Configuring the Job Router</a></li>
<li><a href="https://htcondor.github.io/htcondor-ce/v4/installation/htcondor-ce/#optional-configuration">Optional configuration</a></li>
</ul>
</li>
</ul>
<h4 id="accounting-with-multiple-ces-or-local-user-jobs">Accounting with multiple CEs or local user jobs<a class="headerlink" href="#accounting-with-multiple-ces-or-local-user-jobs" title="Permanent link">&para;</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For non-HTCondor batch systems only</p>
</div>
<p>If your site has multiple CEs or you have non-grid users submitting to the same local batch system, the OSG accounting
software needs to be configured so that it doesn't over report the number of jobs.</p>
<ol>
<li>
<p>Determine which file you need to modify</p>
<ul>
<li>
<p><strong>For OSG 3.5 installations,</strong> use the following table:</p>
<table>
<thead>
<tr>
<th align="left">If your batch system is</th>
<th align="left">Then edit the following file on each of your CE(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">LSF</td>
<td align="left"><code>/etc/gratia/pbs-lsf/ProbeConfig</code></td>
</tr>
<tr>
<td align="left">PBS</td>
<td align="left"><code>/etc/gratia/pbs-lsf/ProbeConfig</code></td>
</tr>
<tr>
<td align="left">SGE</td>
<td align="left"><code>/etc/gratia/sge/ProbeConfig</code></td>
</tr>
<tr>
<td align="left">SLURM</td>
<td align="left"><code>/etc/gratia/slurm/ProbeConfig</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>For OSG 3.6 installations,</strong> you'll need to modify <code>/etc/gratia/htcondor-ce/ProbeConfig</code></p>
</li>
</ul>
</li>
<li>
<p>Edit the value of <code>SuppressNoDNRecords</code> on each of your CE's so that it reads:</p>
<div class="codehilite"><pre><span></span><code>SuppressNoDNRecords=&quot;1&quot;
</code></pre></div>

</li>
</ol>
<h2 id="starting-and-validating-htcondor-ce">Starting and Validating HTCondor-CE<a class="headerlink" href="#starting-and-validating-htcondor-ce" title="Permanent link">&para;</a></h2>
<p>For information on how to start and validate the core HTCondor-CE services, please refer to the upstream documentation
based on your installed version of HTCondor-CE:</p>
<ul>
<li><a href="https://htcondor.github.io/htcondor-ce/v5/verification/">HTCondor-CE 5</a></li>
<li><a href="https://htcondor.github.io/htcondor-ce/v4/verification/">HTCondor-CE 4</a></li>
</ul>
<h3 id="enabling-osg-accounting-osg-35-only">Enabling OSG accounting (OSG 3.5 only)<a class="headerlink" href="#enabling-osg-accounting-osg-35-only" title="Permanent link">&para;</a></h3>
<p>In addition to the core HTCondor-CE services, an OSG 3.5 HTCondor-CE must also start and enable the accounting service,
<code>gratia-probes-cron</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>systemctl start gratia-probes-cron
<span class="gp">root@host # </span>systemctl <span class="nb">enable</span> gratia-probes-cron
</code></pre></div>

<p>In OSG 3.6, OSG accounting is managed directly by HTCondor-CE
(see the <a href="../../release/updating-to-osg-36/#gratia-probe">update instructions</a> for more details).</p>
<h2 id="troubleshooting-htcondor-ce">Troubleshooting HTCondor-CE<a class="headerlink" href="#troubleshooting-htcondor-ce" title="Permanent link">&para;</a></h2>
<p>For information on how to troubleshoot your HTCondor-CE, please refer to the upstream documentation based on your
installed version of HTCondor-CE:</p>
<ul>
<li>HTCondor-CE 5:<ul>
<li><a href="https://htcondor.github.io/htcondor-ce/v5/troubleshooting/common-issues/">Common issues</a></li>
<li><a href="https://htcondor.github.io/htcondor-ce/v5/troubleshooting/debugging-tools/">Debugging tools</a></li>
<li><a href="https://htcondor.github.io/htcondor-ce/v5/troubleshooting/logs/">Helpful logs</a></li>
</ul>
</li>
<li>HTCondor-CE 4<ul>
<li><a href="https://htcondor.github.io/htcondor-ce/v4/troubleshooting/troubleshooting/#htcondor-ce-troubleshooting-items">Common issues</a></li>
<li><a href="https://htcondor.github.io/htcondor-ce/v4/troubleshooting/troubleshooting/#htcondor-ce-troubleshooting-tools">Debugging tools</a></li>
<li><a href="https://htcondor.github.io/htcondor-ce/v4/troubleshooting/troubleshooting/#htcondor-ce-troubleshooting-data">Helpful logs</a></li>
</ul>
</li>
</ul>
<h2 id="registering-the-ce">Registering the CE<a class="headerlink" href="#registering-the-ce" title="Permanent link">&para;</a></h2>
<p>To contribute to the the OSG Production Grid, your CE must be
<a href="https://github.com/opensciencegrid/topology#topology">registered with the OSG</a>.
To register your resource:</p>
<ol>
<li>
<p>Identify the facility, site, and resource group where your HTCondor-CE is hosted.
    For example, the Center for High Throughput Computing at the University of Wisconsin-Madison uses the following
    information:</p>
<div class="codehilite"><pre><span></span><code>Facility: University of Wisconsin
Site: CHTC
Resource Group: CHTC
</code></pre></div>

</li>
<li>
<p>Using the above information, <a href="https://github.com/opensciencegrid/topology#how-to-register">create or update</a> the
   appropriate YAML file, using <a href="https://github.com/opensciencegrid/topology/blob/master/template-resourcegroup.yaml">this template</a>
   as a guide.</p>
</li>
</ol>
<h2 id="getting-help">Getting Help<a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h2>
<p>To get assistance, please use the <a href="../../common/help/">this page</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../hosted-ce/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Request a Hosted CE
              </div>
            </div>
          </a>
        
        
          <a href="../../worker-node/using-wn/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Overview
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        This material is based upon work supported by the
        <a href="https://nsf.gov">National Science Foundation</a>
        under Grant Nos.
        <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1148698">1148698</a>
        , 
        <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1836650">1836650</a>
        , and 
        <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">2030508</a>
        . Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>

      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>