
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://osg-htc.org/docs/other/install-gwms-frontend/">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>GlideinWMS VO Frontend Installation - OSG Site Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.644de097.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-69012-29","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#glideinwms-vo-frontend-installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="OSG Site Documentation" class="md-header__button md-logo" aria-label="OSG Site Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OSG Site Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              GlideinWMS VO Frontend Installation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/osg-htc/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OSG Site Documentation" class="md-nav__button md-logo" aria-label="OSG Site Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    OSG Site Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/osg-htc/docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../site-planning/" class="md-nav__link">
        Site Planning
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../site-verification/" class="md-nav__link">
        Site Verification
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../site-maintenance/" class="md-nav__link">
        Site Maintenance
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../common/help/" class="md-nav__link">
        Help / Security Incidents
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Registration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Registration" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Registration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/contact-registration/" class="md-nav__link">
        Contact Information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/registration/" class="md-nav__link">
        Resources and Collaborations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Resource Sharing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Resource Sharing" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Resource Sharing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1" type="checkbox" id="__nav_7_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1">
          Compute
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Compute" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Compute
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-sharing/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_2" type="checkbox" id="__nav_7_1_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1_2">
          Containers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Containers" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_2">
          <span class="md-nav__icon md-icon"></span>
          Containers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-sharing/os-backfill-containers/" class="md-nav__link">
        OSPool Containers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-sharing/user-containers/" class="md-nav__link">
        User Allocations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_3" type="checkbox" id="__nav_7_1_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1_3">
          Compute Entrypoint
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Compute Entrypoint" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_3">
          <span class="md-nav__icon md-icon"></span>
          Compute Entrypoint
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../compute-element/htcondor-ce-overview/" class="md-nav__link">
        HTCondor-CE Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../compute-element/hosted-ce/" class="md-nav__link">
        Request a Hosted CE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../compute-element/install-htcondor-ce/" class="md-nav__link">
        Install HTCondor-CE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_4" type="checkbox" id="__nav_7_1_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1_4">
          Worker Node
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Worker Node" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_4">
          <span class="md-nav__icon md-icon"></span>
          Worker Node
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/using-wn/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-wn/" class="md-nav__link">
        Install from RPM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-wn-tarball/" class="md-nav__link">
        Install from Tarball
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-wn-oasis/" class="md-nav__link">
        Install from OASIS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-cvmfs/" class="md-nav__link">
        Install CVMFS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/install-apptainer/" class="md-nav__link">
        Install Apptainer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../worker-node/using-wn-containers/" class="md-nav__link">
        Using WN Containers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          Data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_1" type="checkbox" id="__nav_7_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2_1">
          HTTP & OASIS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="HTTP & OASIS" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_1">
          <span class="md-nav__icon md-icon"></span>
          HTTP & OASIS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/run-frontier-squid-container/" class="md-nav__link">
        Running Frontier Squid in a Container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/frontier-squid/" class="md-nav__link">
        Install Frontier Squid RPM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/update-oasis/" class="md-nav__link">
        Update OASIS Shared Repo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/external-oasis-repos/" class="md-nav__link">
        Install an OASIS Repo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_2" type="checkbox" id="__nav_7_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2_2">
          XRootD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="XRootD" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_2">
          <span class="md-nav__icon md-icon"></span>
          XRootD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/overview/" class="md-nav__link">
        XRootD Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-standalone/" class="md-nav__link">
        Install XRootD Standalone
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/xrootd-authorization/" class="md-nav__link">
        Configure Authorization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-client/" class="md-nav__link">
        Using XRootD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-cms-xcache/" class="md-nav__link">
        Install CMS XCache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/xrootd/install-shoveler/" class="md-nav__link">
        Install XRootD Shoveler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7_3">
          Other
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Other" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Other
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Install GlideinWMS Frontend
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Install GlideinWMS Frontend
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-starting" class="md-nav__link">
    Before Starting
  </a>
  
    <nav class="md-nav" aria-label="Before Starting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#credentials-and-proxies" class="md-nav__link">
    Credentials and Proxies
  </a>
  
    <nav class="md-nav" aria-label="Credentials and Proxies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vo-frontend-proxy" class="md-nav__link">
    VO Frontend proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pilot-proxies" class="md-nav__link">
    Pilot proxies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-factory-access" class="md-nav__link">
    OSG Factory access
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-glideinwms-frontend" class="md-nav__link">
    Installing GlideinWMS Frontend
  </a>
  
    <nav class="md-nav" aria-label="Installing GlideinWMS Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-htcondor" class="md-nav__link">
    Installing HTCondor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-vo-frontend-rpm" class="md-nav__link">
    Installing the VO Frontend RPM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-glideinwms-frontend-on-multiple-nodes-advanced" class="md-nav__link">
    Installing GlideinWMS Frontend on Multiple Nodes (Advanced)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-glideinwms-frontend" class="md-nav__link">
    Configuring GlideinWMS Frontend
  </a>
  
    <nav class="md-nav" aria-label="Configuring GlideinWMS Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-the-frontend" class="md-nav__link">
    Configuring the Frontend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-a-different-factory" class="md-nav__link">
    Using a Different Factory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-htcondor" class="md-nav__link">
    Configuring HTCondor
  </a>
  
    <nav class="md-nav" aria-label="Configuring HTCondor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-other-htcondor-rpms-eg-uw-madison-htcondor-rpm" class="md-nav__link">
    Using other HTCondor RPMs, e.g. UW Madison HTCondor RPM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifying-your-htcondor-configuration" class="md-nav__link">
    Verifying your HTCondor configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-htcondor-grid-mapfile" class="md-nav__link">
    Creating a HTCondor grid mapfile.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-htcondor" class="md-nav__link">
    Restarting HTCondor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-configuration" class="md-nav__link">
    Proxy Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-gratia-accounting-and-a-local-monitoring-page-on-a-production-server" class="md-nav__link">
    Adding Gratia Accounting and a Local Monitoring Page on a Production Server
  </a>
  
    <nav class="md-nav" aria-label="Adding Gratia Accounting and a Local Monitoring Page on a Production Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-accounting-configuration" class="md-nav__link">
    Optional Accounting Configuration
  </a>
  
    <nav class="md-nav" aria-label="Optional Accounting Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users-without-certificates" class="md-nav__link">
    Users without Certificates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-standard-htcondor-install" class="md-nav__link">
    Non-Standard HTCondor Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-data-directory" class="md-nav__link">
    New Data Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#different-collector-and-other-customizations" class="md-nav__link">
    Different collector and other customizations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-configuration" class="md-nav__link">
    Optional Configuration
  </a>
  
    <nav class="md-nav" aria-label="Optional Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allowing-users-to-specify-where-their-jobs-run" class="md-nav__link">
    Allowing users to specify where their jobs run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-group-for-testing-configuration-changes" class="md-nav__link">
    Creating a group for testing configuration changes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-glideinwms" class="md-nav__link">
    Using GlideinWMS
  </a>
  
    <nav class="md-nav" aria-label="Using GlideinWMS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-glideinwms-services" class="md-nav__link">
    Managing GlideinWMS Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reconfiguring-glideinwms" class="md-nav__link">
    Reconfiguring GlideinWMS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-glideinwms-frontend" class="md-nav__link">
    Upgrading GlideinWMS FrontEnd
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-glideinwms-frontend" class="md-nav__link">
    Validating GlideinWMS Frontend
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verifying-services-are-running" class="md-nav__link">
    Verifying Services Are Running
  </a>
  
    <nav class="md-nav" aria-label="Verifying Services Are Running">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#glideinwms-job-submission" class="md-nav__link">
    GlideinWMS Job submission
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-web-pages" class="md-nav__link">
    Monitoring Web pages
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-glideinwms" class="md-nav__link">
    Troubleshooting GlideinWMS
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting GlideinWMS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-locations" class="md-nav__link">
    File Locations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificates-brief" class="md-nav__link">
    Certificates brief
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#increase-the-log-level-and-change-rotation-policies" class="md-nav__link">
    Increase the log level and change rotation policies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-reconfig-failing" class="md-nav__link">
    Frontend reconfig failing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-failing-to-start" class="md-nav__link">
    Frontend failing to start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificates-not-there" class="md-nav__link">
    Certificates not there
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed-authentication" class="md-nav__link">
    Failed authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-doesnt-trust-factory" class="md-nav__link">
    Frontend doesn't trust Factory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-security-credentials-match-for-factory-pool-not-advertising-request" class="md-nav__link">
    No security credentials match for factory pool ..., not advertising request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobs-not-running" class="md-nav__link">
    Jobs not running
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
    <nav class="md-nav" aria-label="References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users" class="md-nav__link">
    Users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificates" class="md-nav__link">
    Certificates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#networking" class="md-nav__link">
    Networking
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install-cvmfs-stratum1/" class="md-nav__link">
        Install a CVMFS Stratum 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting-gratia/" class="md-nav__link">
        Troubleshooting Gratia
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../schedd-filebeats/" class="md-nav__link">
        Install Transfer Log Filebeats
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../osg-token-renewer/" class="md-nav__link">
        Install OSG Token Renewal Service
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Access Point
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Access Point" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Access Point
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../submit/install-ospool-ap/" class="md-nav__link">
        Install an OSPool Access Point
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../submit/ap-ospool-aup/" class="md-nav__link">
        Acceptable Use Policy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Data Federation (OSDF)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Federation (OSDF)" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Data Federation (OSDF)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/stashcache/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_2" type="checkbox" id="__nav_9_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_2">
          Data Cache
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Cache" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_2">
          <span class="md-nav__icon md-icon"></span>
          Data Cache
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/osdf/install-cache-container/" class="md-nav__link">
        Install from container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/osdf/install-cache-rpm/" class="md-nav__link">
        Install from RPM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_3" type="checkbox" id="__nav_9_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9_3">
          Data Origin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Origin" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_3">
          <span class="md-nav__icon md-icon"></span>
          Data Origin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/osdf/install-origin-container/" class="md-nav__link">
        Install from container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/osdf/install-origin-rpm/" class="md-nav__link">
        Install from RPM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Releases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Releases" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/release_series/" class="md-nav__link">
        Release Series
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2" type="checkbox" id="__nav_10_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2">
          OSG 25
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="OSG 25" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_2">
          <span class="md-nav__icon md-icon"></span>
          OSG 25
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/osg-25/" class="md-nav__link">
        News
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/updating-to-osg-25/" class="md-nav__link">
        Updating to OSG 25
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_3" type="checkbox" id="__nav_10_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_3">
          OSG 24
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="OSG 24" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_3">
          <span class="md-nav__icon md-icon"></span>
          OSG 24
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/osg-24/" class="md-nav__link">
        News
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/updating-to-osg-24/" class="md-nav__link">
        Updating to OSG 24
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/supported_platforms/" class="md-nav__link">
        Supported Platforms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/yum/" class="md-nav__link">
        OSG Yum Repos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/yum-basics/" class="md-nav__link">
        Yum Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release/signing/" class="md-nav__link">
        RPM Signing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Tokens
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tokens" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Tokens
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/tokens/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/tokens/using-tokens/" class="md-nav__link">
        Using Tokens
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          CA Certificates
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CA Certificates" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          CA Certificates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/ca/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/certificate-management/" class="md-nav__link">
        Certificate Management Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_3" type="checkbox" id="__nav_12_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12_3">
          Host Certificates
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Host Certificates" data-md-level="2">
        <label class="md-nav__title" for="__nav_12_3">
          <span class="md-nav__icon md-icon"></span>
          Host Certificates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/host-certs/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/host-certs/incommon/" class="md-nav__link">
        Using InCommon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/host-certs/lets-encrypt/" class="md-nav__link">
        Using Let's Encrypt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-starting" class="md-nav__link">
    Before Starting
  </a>
  
    <nav class="md-nav" aria-label="Before Starting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#credentials-and-proxies" class="md-nav__link">
    Credentials and Proxies
  </a>
  
    <nav class="md-nav" aria-label="Credentials and Proxies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vo-frontend-proxy" class="md-nav__link">
    VO Frontend proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pilot-proxies" class="md-nav__link">
    Pilot proxies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osg-factory-access" class="md-nav__link">
    OSG Factory access
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-glideinwms-frontend" class="md-nav__link">
    Installing GlideinWMS Frontend
  </a>
  
    <nav class="md-nav" aria-label="Installing GlideinWMS Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-htcondor" class="md-nav__link">
    Installing HTCondor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-vo-frontend-rpm" class="md-nav__link">
    Installing the VO Frontend RPM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-glideinwms-frontend-on-multiple-nodes-advanced" class="md-nav__link">
    Installing GlideinWMS Frontend on Multiple Nodes (Advanced)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-glideinwms-frontend" class="md-nav__link">
    Configuring GlideinWMS Frontend
  </a>
  
    <nav class="md-nav" aria-label="Configuring GlideinWMS Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-the-frontend" class="md-nav__link">
    Configuring the Frontend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-a-different-factory" class="md-nav__link">
    Using a Different Factory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-htcondor" class="md-nav__link">
    Configuring HTCondor
  </a>
  
    <nav class="md-nav" aria-label="Configuring HTCondor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-other-htcondor-rpms-eg-uw-madison-htcondor-rpm" class="md-nav__link">
    Using other HTCondor RPMs, e.g. UW Madison HTCondor RPM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifying-your-htcondor-configuration" class="md-nav__link">
    Verifying your HTCondor configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-htcondor-grid-mapfile" class="md-nav__link">
    Creating a HTCondor grid mapfile.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-htcondor" class="md-nav__link">
    Restarting HTCondor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-configuration" class="md-nav__link">
    Proxy Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-gratia-accounting-and-a-local-monitoring-page-on-a-production-server" class="md-nav__link">
    Adding Gratia Accounting and a Local Monitoring Page on a Production Server
  </a>
  
    <nav class="md-nav" aria-label="Adding Gratia Accounting and a Local Monitoring Page on a Production Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optional-accounting-configuration" class="md-nav__link">
    Optional Accounting Configuration
  </a>
  
    <nav class="md-nav" aria-label="Optional Accounting Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users-without-certificates" class="md-nav__link">
    Users without Certificates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-standard-htcondor-install" class="md-nav__link">
    Non-Standard HTCondor Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-data-directory" class="md-nav__link">
    New Data Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#different-collector-and-other-customizations" class="md-nav__link">
    Different collector and other customizations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-configuration" class="md-nav__link">
    Optional Configuration
  </a>
  
    <nav class="md-nav" aria-label="Optional Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allowing-users-to-specify-where-their-jobs-run" class="md-nav__link">
    Allowing users to specify where their jobs run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-group-for-testing-configuration-changes" class="md-nav__link">
    Creating a group for testing configuration changes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-glideinwms" class="md-nav__link">
    Using GlideinWMS
  </a>
  
    <nav class="md-nav" aria-label="Using GlideinWMS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-glideinwms-services" class="md-nav__link">
    Managing GlideinWMS Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reconfiguring-glideinwms" class="md-nav__link">
    Reconfiguring GlideinWMS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-glideinwms-frontend" class="md-nav__link">
    Upgrading GlideinWMS FrontEnd
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-glideinwms-frontend" class="md-nav__link">
    Validating GlideinWMS Frontend
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verifying-services-are-running" class="md-nav__link">
    Verifying Services Are Running
  </a>
  
    <nav class="md-nav" aria-label="Verifying Services Are Running">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#glideinwms-job-submission" class="md-nav__link">
    GlideinWMS Job submission
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-web-pages" class="md-nav__link">
    Monitoring Web pages
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-glideinwms" class="md-nav__link">
    Troubleshooting GlideinWMS
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting GlideinWMS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-locations" class="md-nav__link">
    File Locations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificates-brief" class="md-nav__link">
    Certificates brief
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#increase-the-log-level-and-change-rotation-policies" class="md-nav__link">
    Increase the log level and change rotation policies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-reconfig-failing" class="md-nav__link">
    Frontend reconfig failing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-failing-to-start" class="md-nav__link">
    Frontend failing to start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificates-not-there" class="md-nav__link">
    Certificates not there
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed-authentication" class="md-nav__link">
    Failed authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-doesnt-trust-factory" class="md-nav__link">
    Frontend doesn't trust Factory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-security-credentials-match-for-factory-pool-not-advertising-request" class="md-nav__link">
    No security credentials match for factory pool ..., not advertising request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobs-not-running" class="md-nav__link">
    Jobs not running
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-help" class="md-nav__link">
    Getting Help
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
    <nav class="md-nav" aria-label="References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users" class="md-nav__link">
    Users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificates" class="md-nav__link">
    Certificates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#networking" class="md-nav__link">
    Networking
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/osg-htc/docs/edit/master/docs/other/install-gwms-frontend.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="glideinwms-vo-frontend-installation">GlideinWMS VO Frontend Installation<a class="headerlink" href="#glideinwms-vo-frontend-installation" title="Permanent link">&para;</a></h1>
<p>This document describes how to install the Glidein Workflow Managment System
(GlideinWMS) VO Frontend for use with the OSG Glidein factory. This software is
the minimum requirement for a VO to use GlideinWMS.</p>
<p>This document assumes expertise with HTCondor and familiarity with the GlideinWMS
software. It <strong>does not</strong> cover anything but the simplest possible install.
Please consult the <a href="http://glideinwms.fnal.gov/doc.prd/install.html">GlideinWMS reference
documentation</a>
for advanced topics, including non-<code>root</code>, non-RPM-based installation.</p>
<p>This document covers three components of the GlideinWMS a VO needs to install:</p>
<ul>
<li><strong>User Pool Collectors</strong>: A set of <code>condor_collector</code> processes. Pilots submitted by the factory will join to one of these collectors to form a HTCondor pool.</li>
<li><strong>User Pool Schedd</strong>: A <code>condor_schedd</code>. Users may submit HTCondor vanilla universe jobs to this schedd; it will run jobs in the HTCondor pool formed by the <strong>User Pool Collectors</strong>.</li>
<li><strong>Glidein Frontend</strong>: The frontend will periodically query the <strong>User Pool Schedd</strong> to determine the desired number of running job slots. If necessary, it will request the Factory to launch additional pilots.</li>
</ul>
<p>This guide covers installation of all three components on the same host: it is
designed for small to medium VOs (see the Hardware Requirements below). Given a
significant, large host, we have been able to scale the single-host install to
20,000 running jobs.</p>
<p><img alt="GlideinWMS Architecture" src="../../img/simple_diagram.png" /></p>
<h2 id="before-starting">Before Starting<a class="headerlink" href="#before-starting" title="Permanent link">&para;</a></h2>
<p>Before starting the installation process, consider the following points (consulting <a href="#references">the Reference section below</a> as needed):</p>
<ul>
<li><strong>User IDs:</strong> If they do not exist already, the installation will create the Linux users <code>apache</code> (UID 48), <code>condor</code>, <code>frontend</code>, and <code>gratia</code></li>
<li><strong>Network:</strong> The VO frontend must have reliable network connectivity and be on the public internet (i.e. no NAT).
    The latest version requires the following TCP ports to be open:<ul>
<li>80 (HTTP) for monitoring and serving configuration to workers</li>
<li>9618 (HTCondor shared port) for HTCondor daemons including the Schedd and User Collector</li>
<li>9620 to 9660 for secondary collectors (depending on configuration, see below)</li>
</ul>
</li>
<li><strong>Host choice</strong>: The GlideinWMS VO Frontend has the following hardware requirements for a production host:<ul>
<li><strong>CPU</strong>: Four cores, preferably no more than 2 years old.</li>
<li><strong>RAM</strong>: 3GB plus 2MB per running job. For example, to sustain 2000 running jobs, a host with 5GB is needed.</li>
<li><strong>Disk</strong>: 30GB will be sufficient for all the binaries, config and log files related to GlideinWMS. As this will be an interactive access point, have enough disk space for your users' jobs.</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default configuration uses a port range (9620 to 9660) for the secondary collectors.
You can configure the secondary collectors to use the shared port 9618 instead;
this will become the default in the future.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>GlideinWMS versions prior to 3.4.1 also required port 9615 for the Schedd,
and did not support using shared port for the secondary collectors.
If you are upgrading a standalone access point from version 3.4 or earlier, the default open
port has changed from 9615 to 9618, and you need to update your firewall rules to reflect this change.
You can figure out which port will be used by running the following command:</p>
<div class="highlight"><pre><span></span><code><span class="go"> condor_config_val SHARED_PORT_ARGS</span>
</code></pre></div>
</div>
<p>For more detailed information, see <a href="#configuring-glideinwms-frontend">Configuring GlideinWMS Frontend</a>.</p>
<p>As with all OSG software installations, there are some one-time (per host) steps to prepare in advance:</p>
<ul>
<li>Ensure the host has a <a href="../../release/supported_platforms/">supported operating system</a></li>
<li>Obtain root access to the host</li>
<li>Prepare the <a href="../../common/yum/">required Yum repositories</a></li>
<li>Install <a href="../../common/ca/">CA certificates</a></li>
</ul>
<h3 id="credentials-and-proxies">Credentials and Proxies<a class="headerlink" href="#credentials-and-proxies" title="Permanent link">&para;</a></h3>
<p>The VO Frontend will use two credentials in its interactions with the other GlideinWMS services. At this time, these will be proxy files.</p>
<ol>
<li>the <strong>VO Frontend proxy</strong> (used to authenticate with the other GlideinWMS services).</li>
<li>one or more GlideinWMS <strong>pilot proxies</strong> (used/delegated to the Factory services and submitted on the GlideinWMS pilot jobs).</li>
</ol>
<p>The <strong>VO Frontend proxy</strong> and the <strong>pilot proxy</strong> can
be the same. By default, the VO Frontend will run as user <code>frontend</code> (UID is
machine dependent) so these proxies must be owned by the user <code>frontend</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Both proxies need to be passwordless to allow <a href="#proxy-configuration">automatic proxy renewal</a>.</p>
</div>
<h4 id="vo-frontend-proxy">VO Frontend proxy<a class="headerlink" href="#vo-frontend-proxy" title="Permanent link">&para;</a></h4>
<p>The use of a service certificate is recommended. Then you create a proxy from the certificate as explained in the 
<a href="#proxy-configuration">proxy configuration section</a>.</p>
<p><strong>You must give the Factory operations team the DN of this proxy when you
initially setup the Frontend and each time the DN changes</strong>.</p>
<h4 id="pilot-proxies">Pilot proxies<a class="headerlink" href="#pilot-proxies" title="Permanent link">&para;</a></h4>
<p>These proxies are used by the Factory to submit the GlideinWMS pilot jobs.
Therefore, they must be authorized to access to the CEs (Factory entry points)
where jobs are submitted. There is no need to notify the Factory operation about
the DN of these proxies (neither at the initial registration nor for subsequent
changes). These additional proxies have no special requirements or controls added by the
Factory but will probably require VO attributes because of the CEs: if you are
able to use one of these proxies to submit jobs to the corresponding CEs where the Factory runs
GlideinWMS pilots for you, then the proxies are OK. You can test each of your proxies using
<code>globusrun</code> or HTCondor-G.</p>
<p>To check the important information about a PEM certificate you can use: <code>openssl
x509 -in /etc/grid-security/hostcert.pem -subject -issuer -dates -noout</code>. You
will need that to find out information for the configuration files and the
request to the GlideinWMS Factory.</p>
<h3 id="osg-factory-access">OSG Factory access<a class="headerlink" href="#osg-factory-access" title="Permanent link">&para;</a></h3>
<p>Before installing the GlideinWMS VO Frontend you need the information about a <a href="http://glideinwms.fnal.gov/doc.prd/factory/index.html">Glidein Factory</a> that you can access:</p>
<ol>
<li>(recommended) OSG is managing a factory at UCSD</li>
<li>You have another Glidein Factory that you can access</li>
</ol>
<p>To request access to the OSG Glidein Factory at UCSD you have to send an email to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#111;&#115;&#103;&#45;&#103;&#102;&#97;&#99;&#116;&#111;&#114;&#121;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#112;&#104;&#121;&#115;&#105;&#99;&#115;&#46;&#117;&#99;&#115;&#100;&#46;&#101;&#100;&#117;">&#111;&#115;&#103;&#45;&#103;&#102;&#97;&#99;&#116;&#111;&#114;&#121;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#112;&#104;&#121;&#115;&#105;&#99;&#115;&#46;&#117;&#99;&#115;&#100;&#46;&#101;&#100;&#117;</a> providing:</p>
<ol>
<li>Your Name</li>
<li>The VO that is utilizing the VO Frontend</li>
<li>The DN of the proxy you will use to communicate with the Factory (VO Frontend DN, e.g. the host certificate subject if you follow the <a href="#proxy-configuration">proxy configuration section</a>)</li>
<li>You can propose a security name that will have to be confirmed/changed by the Factory managers (see below)</li>
<li>
<p>A list of sites where you want to run:</p>
</li>
<li>
<p>Your VO must be supported on those sites</p>
</li>
<li>You can provide a list or piggy back on existing lists, e.g. all the sites supported for the VO. Check with the Factory managers</li>
<li>You can start with one single site</li>
</ol>
<p>In the reply from the OSG Factory managers you will receive some information needed for the configuration of your VO Frontend</p>
<ol>
<li>The exact spelling and capitalization of your VO name. Sometime is different from what is commonly used, e.g. OSG VO is "OSGVO".</li>
<li>The host of the Factory Collector: <code>gfactory-1.t2.ucsd.edu</code></li>
<li>The DN os the factory, e.g. <code>/DC=org/DC=doegrids/OU=Services/CN=gfactory-1.t2.ucsd.edu</code></li>
<li>The factory identity, e.g.: <code>gfactory@gfactory-1.t2.ucsd.edu</code></li>
<li>The identity on the Factory you will be mapped to. Something like: <code>username@gfactory-1.t2.ucsd.edu</code></li>
<li>Your security name. A unique name, usually containing your VO name: <code>My_SecName</code></li>
<li>A string to add in the main Factory query_expr in the Frontend configuration, e.g. <code>stringListMember("&lt;VO&gt;",GLIDEIN_Supported_VOs)</code>.
   This is used to select the entries you can use.
   From there you get the correct name of the VO (above in this list).</li>
</ol>
<h2 id="installing-glideinwms-frontend">Installing GlideinWMS Frontend<a class="headerlink" href="#installing-glideinwms-frontend" title="Permanent link">&para;</a></h2>
<h3 id="installing-htcondor">Installing HTCondor<a class="headerlink" href="#installing-htcondor" title="Permanent link">&para;</a></h3>
<p>If you don't have HTCondor already installed, you can install the HTCondor RPM
from the OSG repository:</p>
<div class="highlight"><pre><span></span><code><span class="gp">root@host # </span>yum install condor.x86_64
</code></pre></div>
<p>If you already have installed HTCondor using a tarball or a source other than
the OSG ROM, you will need to install the empty-condor RPM:</p>
<div class="highlight"><pre><span></span><code><span class="gp">root@host # </span>yum install empty-condor --enablerepo<span class="o">=</span>osg-empty
</code></pre></div>
<h3 id="installing-the-vo-frontend-rpm">Installing the VO Frontend RPM<a class="headerlink" href="#installing-the-vo-frontend-rpm" title="Permanent link">&para;</a></h3>
<p>Install the RPM and dependencies (be prepared for a lot of dependencies).</p>
<div class="highlight"><pre><span></span><code><span class="gp">root@host # </span>yum install glideinwms-vofrontend
</code></pre></div>
<p>This will install the current production release verified and tested by OSG with
default HTCondor configuration. This command will install the GlideinWMS
vofrontend, HTCondor, the OSG client, and all the required dependencies all on one
node.</p>
<p>If you wish to install a different version of GlideinWMS, add the "--enablerepo"
argument to the command as follows:</p>
<ul>
<li><code>yum install --enablerepo=osg-testing glideinwms-vofrontend</code>: The most recent production release, still in testing phase. This will usually match the current tarball version on the GlideinWMS home page. (The osg-release production version may lag behind the tarball release by a few weeks as it is verified and packaged by OSG). Note that this will also take the osg-testing versions of all dependencies as well.</li>
<li><code>yum install --enablerepo=osg-upcoming glideinwms-vofrontend</code>: The most recent development series release, i.e. version 3.3 release. This has newer features such as cloud submission support, but is less tested.</li>
</ul>
<p>Note that these commands will install default HTCondor configurations with all
GlideinWMS services on one node.</p>
<h3 id="installing-glideinwms-frontend-on-multiple-nodes-advanced">Installing GlideinWMS Frontend on Multiple Nodes (Advanced)<a class="headerlink" href="#installing-glideinwms-frontend-on-multiple-nodes-advanced" title="Permanent link">&para;</a></h3>
<p>For advanced users expecting heavy usage on their access point, you may want to
consider splitting the user collector, user submit, and vo frontend
services. This can be doing using the following three commands (on different
machines):</p>
<div class="highlight"><pre><span></span><code><span class="gp">root@host # </span>yum install glideinwms-vofrontend-standalone
<span class="gp">root@host # </span>yum install glideinwms-usercollector
<span class="gp">root@host # </span>yum install glideinwms-userschedd
</code></pre></div>
<p>In addition, you will need to perform the following steps:</p>
<ul>
<li>On the vofrontend and userschedd, modify <code>CONDOR_HOST</code> to point to your usercollector. This is in <code>/etc/condor/config.d/00_gwms_general.config</code>. You can also override this value by placing it in a new config file. (For instance, <code>/etc/condor/config.d/99_local_custom.config</code> to avoid rpmsave/rpmnew conflicts on upgrades).</li>
<li>In <code>/etc/condor/certs/condor_mapfile</code>, you will need to add the DNs of each machine (userschedd, usercollector, vofrontend). Take great care to escape all special characters. Alternatively, you can use the <code>glidecondor_addDN</code> to add these values.</li>
<li>In the <code>/etc/gwms-frontend/frontend.xml</code> file, change the schedd locations to match the correct server. Also change the collectors tags at the bottom of the file. More details on frontend.xml are in the following sections.</li>
</ul>
<h2 id="configuring-glideinwms-frontend">Configuring GlideinWMS Frontend<a class="headerlink" href="#configuring-glideinwms-frontend" title="Permanent link">&para;</a></h2>
<p>After installing the RPM, you need to configure the components of the GlideinWMS VO Frontend:</p>
<ol>
<li>Edit Frontend configuration options</li>
<li>Edit HTCondor configuration options</li>
<li>Create a HTCondor grid map file</li>
<li>Reconfigure and Start the Frontend</li>
</ol>
<h4 id="configuring-the-frontend">Configuring the Frontend<a class="headerlink" href="#configuring-the-frontend" title="Permanent link">&para;</a></h4>
<p>The VO Frontend configuration file is <code>/etc/gwms-frontend/frontend.xml</code>. The next steps will describe each line that you will need to edit if you are using the OSG Factory at UCSD. The portions to edit are highlighted. If you are using a different Factory more changes are necessary, please check the VO Frontend configuration reference.</p>
<ol>
<li>
<p>The VO you are affiliated with. This will identify those CEs that the GlideinWMS pilot will be authorized to run on using the <strong>pilot proxy</strong> described previously in <a href="#credentials-and-proxies">this section</a>. Sometimes the whole <code>query_expr</code> is provided to you by the Factory operators (see Factory access above):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;factory</span> <span class="na">query_expr=</span><span class="s">&#39;((stringListMember(&quot;VO&quot;, GLIDEIN_Supported_VOs)))&#39;</span><span class="nt">&gt;</span>
</code></pre></div>

</li>
<li>
<p>Factory collector information. The <code>username</code> that you are assigned by the Factory (also called the identity you will be mapped to on the factory, see above) . Note that if you are using a factory different than the production Factory, you will have to change also <code>DN</code>, <code>factory_identity</code> and <code>node</code> attributes. (refer to the information provided to you by the Factory operator):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;collector</span> <span class="na">DN=</span><span class="s">&quot;/DC=org/DC=doegrids/OU=Services/CN=gfactory-1.t2.ucsd.edu&quot;</span>
           <span class="na">comment=</span><span class="s">&quot;Define factory collector globally for simplicity&quot;</span>
           <span class="na">factory_identity=</span><span class="s">&quot;gfactory@gfactory-1.t2.ucsd.edu&quot;</span>
           <span class="na">my_identity=</span><span class="s">&quot;username@gfactory-1.t2.ucsd.edu&quot;</span>
           <span class="na">node=</span><span class="s">&quot;gfactory-1.t2.ucsd.edu&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>

</li>
<li>
<p>Frontend security information.</p>
<ul>
<li>The <code>classad_proxy</code> in the security entry is the location of the VO Frontend proxy described previously <a href="#credentials-and-proxies">here</a>.</li>
<li>The <code>proxy_DN</code> is the DN of the <code>classad_proxy</code> above.</li>
<li>The <code>security_name</code> identifies this VO Frontend to the the Factory, It is provided by the Factory operator.</li>
<li>The <code>absfname</code> in the credential entry is the location of the GlideinWMS <strong>pilot proxy</strong> described in the requirements section <a href="#credentials-and-proxies">here</a>. There can be multiple pilot proxies, or even other kind of keys (e.g. if you use cloud resources). <strong><em>The type and trust_domain of the credential must match respectively auth_method and trust_domain used in the entry definition in the Factory. If there is no match, between these two attributes in one of the credentials and the corresponding ones in some entry in one of the Factories, then this Frontend cannot trigger glideins.</em></strong>
Both the <code>classad_proxy</code> and <code>absfname</code> files should be owned by <code>frontend</code> user.<div class="codehilite"><pre><span></span><code><span class="nt">&lt;security</span> <span class="na">classad_proxy=</span><span class="s">&quot;/tmp/vo_proxy&quot;</span> <span class="na">proxy_DN=</span><span class="s">&quot;DN of vo_proxy&quot;</span>
      <span class="na">proxy_selection_plugin=</span><span class="s">&quot;ProxyAll&quot;</span>
      <span class="na">security_name=</span><span class="s">&quot;The security name, this is used by factory&quot;</span>
      <span class="na">sym_key=</span><span class="s">&quot;aes_256_cbc&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;credentials&gt;</span>
        <span class="nt">&lt;credential</span> <span class="na">absfname=</span><span class="s">&quot;/tmp/pilot_proxy&quot;</span> <span class="na">security_class=</span><span class="s">&quot;frontend&quot;</span>
        <span class="na">trust_domain=</span><span class="s">&quot;OSG&quot;</span> <span class="na">type=</span><span class="s">&quot;grid_proxy&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/credentials&gt;</span>
<span class="nt">&lt;/security&gt;</span>
</code></pre></div>

</li>
</ul>
</li>
<li>
<p>The schedd information.</p>
<ul>
<li>The <code>DN</code> of the <strong>VO Frontend Proxy</strong> described previously <a href="#credentials-and-proxies">here</a>.</li>
<li>The <code>fullname</code> attribute is the fully qualified domain name of the host where you installed the VO Frontend (<code>hostname --fqdn</code>).
A secondary schedd is optional. You will need to delete the secondary schedd line if you are not using it. Multiple schedds allow the Frontend to service requests from multiple access points.<div class="codehilite"><pre><span></span><code><span class="nt">&lt;schedds&gt;</span>
  <span class="nt">&lt;schedd</span> <span class="na">DN=</span><span class="s">&quot;Cert DN used by the schedd at fullname:&quot;</span>
        <span class="na">fullname=</span><span class="s">&quot;Hostname of the schedd&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;schedd</span> <span class="na">DN=</span><span class="s">&quot;Cert DN used by the second Schedd at fullname:&quot;</span>
         <span class="na">fullname=</span><span class="s">&quot;schedd name@Hostname of second schedd&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/schedds&gt;</span>
</code></pre></div>

</li>
</ul>
</li>
<li>
<p>The User Collector information.</p>
<ul>
<li>The <code>DN</code> of the <strong>VO Frontend Proxy</strong> described previously <a href="#credentials-and-proxies">here</a>.</li>
<li>The <code>node</code> attribute is the full hostname of the collectors (<code>hostname --fqdn</code>) and port</li>
<li>The <code>secondary</code> attribute indicates whether the element is for the primary or secondary collectors (True/False).
 The default HTCondor configuration of the VO Frontend starts multiple Collector processes on the host (<code>/etc/condor/config.d/11_gwms_secondary_collectors.config</code>). The <code>DN</code> and <code>hostname</code> on the first line are the hostname and the host certificate of the VO Frontend. The <code>DN</code> and <code>hostname</code> on the second line are the same as the ones in the first one. The hostname (e.g. hostname.domain.tld) is filled automatically during the installation. The secondary collector connection can be defined as sinful string for the sock case , e.g., hostname.domain.tld:9618?sock=collector16.</li>
</ul>
</li>
</ol>
<p>[Example 1]</p>
<div class="codehilite"><pre><span></span><code>        :::xml
        &lt;collector DN=&quot;DN of main collector&quot;
               node=&quot;hostname.domain.tld:9618&quot; secondary=&quot;False&quot;/&gt;
        &lt;collector DN=&quot;DN of secondary collectors (usually same as DN in line above)&quot;
               node=&quot;hostname.domain.tld:9620-9660&quot; secondary=&quot;True&quot;/&gt;
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>In GlideinWMS v3.4.1, shared port only configuration is incompatible if talking to older Factories (v3.4 or older). We strongly recommend any user of GlideinWMS Frontend v3.4.1 or newer, to transition to the use of shared port for secondary collectors and CCBs.
The shared port configuration is incompatible if your Frontend is talking to Factories v3.4 or older and you'll get an error telling you to wait.
To transition to the use of shared port for secondary collectors, you have to change the collectors section in the Frontend configuration. If you are using the default port range for the secondary collectors as shown in [Example 2] below, then you should replace it with port <code>9618</code> and the sock-range as shown in [Example 1] above.</p>
<p>If you have a more complex configuration, please read the <a href="http://glideinwms.fnal.gov/doc.prd/frontend/configuration.html">detailed GlideinWMS configuration</a></p>
<p>[Example 2]</p>
<div class="codehilite"><pre><span></span><code>        :::xml
        &lt;collector DN=&quot;DN of main collector&quot;
               node=&quot;hostname.domain.tld:9618&quot; secondary=&quot;False&quot;/&gt;
        &lt;collector DN=&quot;DN of secondary collectors (usually same as DN in line above)&quot;
               node=“hostname.domain.tld:9618?sock=collector0-40&quot; secondary=&quot;True&quot;/&gt;
</code></pre></div>

<ol>
<li>The CCBs information.
    If you have a different configuration of the HTCondor Connection Brokering (CCB servers) from the default (usually the section is empty as the User Collectors acts as CCB if needed), you can set the connection in the CCB section the same way that User Collector information previously mentioned. Also, the same rules for transition to shared_port of the connections, apply to the CCBs.<div class="codehilite"><pre><span></span><code>    :::xml
    &lt;ccb DN=&quot;DN of the CCB server&quot;
           node=&quot;hostname.domain.tld:9618&quot;/&gt;
    &lt;ccb DN=&quot;DN of the CCB server&quot;
           node=“hostname.domain.tld:9618?sock=collector0-40&quot; secondary=&quot;True&quot;/&gt;
</code></pre></div>

</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Frontend configuration includes many knobs, some of which are conflicting with a RPM installation where there is only one version of the Frontend installed and it uses well known paths.     Do not change the following in the Frontend configuration (you must leave the default values coming with the RPM installation):</p>
<ul>
<li>frontend_versioning='False' (in the first line of XML, versioning is useful to install multiple tarball versions)</li>
<li>for RPM installs, work base_dir must be /var/lib/gwms-frontend/vofrontend/ (other scripts like /etc/init.d/gwms-frontend count on that value)</li>
</ul>
</div>
<h4 id="using-a-different-factory">Using a Different Factory<a class="headerlink" href="#using-a-different-factory" title="Permanent link">&para;</a></h4>
<p>The configuration above points to the OSG production Factory. If you are using a different Factory, then you have to:</p>
<ol>
<li>replace <code>gfactory@gfactory-1.t2.ucsd.edu</code> and <code>gfactory-1.t2.ucsd.edu</code> with the correct values for your Factory. And control also that the name used for the Frontend () matches.</li>
<li>make sure that the Factory is advertising the attributes used in the Factory query expression (<code>query_expr</code>).</li>
</ol>
<h3 id="configuring-htcondor">Configuring HTCondor<a class="headerlink" href="#configuring-htcondor" title="Permanent link">&para;</a></h3>
<p>The HTCondor configuration for the Frontend is placed in <code>/etc/condor/config.d</code>.</p>
<ul>
<li>00_gwms_general.config</li>
<li>01_gwms_collectors.config</li>
<li>02_gwms_schedds.config</li>
<li>03_gwms_local.config</li>
<li>11_gwms_secondary_collectors.config</li>
<li>90_gwms_dns.config</li>
</ul>
<p>For most installations create a new file named <code>/etc/condor/config.d/92_local_condor.config</code></p>
<h4 id="using-other-htcondor-rpms-eg-uw-madison-htcondor-rpm">Using other HTCondor RPMs, e.g. UW Madison HTCondor RPM<a class="headerlink" href="#using-other-htcondor-rpms-eg-uw-madison-htcondor-rpm" title="Permanent link">&para;</a></h4>
<p>The above procedure will work if you are using the OSG HTCondor RPMS. You can
verify that you used the OSG HTCondor RPM by using <code>yum list condor</code>. The
package repository should be "osg", e.g. 
<div class="highlight"><pre><span></span><code><span class="go">Available Packages</span>
<span class="go">condor.x86_64                          24.0.16-1.el9                           osg</span>
</code></pre></div></p>
<p>If you are using the UW Madison HTCondor RPMS, be aware of the following changes:</p>
<ul>
<li>This HTCondor RPM uses a file <code>/etc/condor/condor_config.local</code> to add your local machine slot to the user pool.</li>
<li>If you want to disable this behavior (recommended), you should blank out that file or comment out the line in <code>/etc/condor/condor_config</code> for LOCAL_CONFIG_FILE. (Make sure that LOCAL_CONFIG_DIR is set to <code>/etc/condor/config.d</code>)</li>
<li>Note that the variable LOCAL_DIR is set differently in UW Madison and OSG RPMs. This should not cause any more problems in the GlideinWMS RPMs, but please take note if you use this variable in your job submissions or other customizations.</li>
</ul>
<p>In general if you are using a non OSG RPM or if you added custom configuration
files for HTCondor please check the order of the configuration files:</p>
<div class="highlight"><pre><span></span><code><span class="gp">root@host # </span>condor_config_val -config
<span class="go">Configuration source:</span>
<span class="go">    /etc/condor/condor_config</span>
<span class="go">Local configuration sources:</span>
<span class="go">    /etc/condor/config.d/00_gwms_general.config</span>
<span class="go">    /etc/condor/config.d/01_gwms_collectors.config</span>
<span class="go">    /etc/condor/config.d/02_gwms_schedds.config</span>
<span class="go">    /etc/condor/config.d/03_gwms_local.config</span>
<span class="go">    /etc/condor/config.d/11_gwms_secondary_collectors.config</span>
<span class="go">    /etc/condor/config.d/90_gwms_dns.config</span>
<span class="go">    /etc/condor/condor_config.local</span>
</code></pre></div>
<p>If, like in the example above, the GlideinWMS configuration files are not the
last ones in the list please verify that important configuration options have
not been overridden by the other configuration files.</p>
<h4 id="verifying-your-htcondor-configuration">Verifying your HTCondor configuration<a class="headerlink" href="#verifying-your-htcondor-configuration" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>The GlideinWMS configuration files in <code>/etc/condor/config.d</code> should be the last ones in the list. If not, please verify that important configuration options have not been overridden by the other configuration files.</p>
</li>
<li>
<p>Verify the alll the expected HTCondor daemons are running:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>condor_config_val -verbose DAEMON_LIST DAEMON_LIST: MASTER, COLLECTOR, NEGOTIATOR, SCHEDD, SHARED_PORT, COLLECTOR0
<span class="go">COLLECTOR1 COLLECTOR2 COLLECTOR3 COLLECTOR4 COLLECTOR5 COLLECTOR6 COLLECTOR7 COLLECTOR8 COLLECTOR9 COLLECTOR10 , COLLECTOR11, COLLECTOR12,</span>
<span class="go">COLLECTOR13, COLLECTOR14, COLLECTOR15, COLLECTOR16, COLLECTOR17, COLLECTOR18, COLLECTOR19, COLLECTOR20, COLLECTOR21, COLLECTOR22, COLLECTOR23,</span>
<span class="go">COLLECTOR24, COLLECTOR25, COLLECTOR26, COLLECTOR27, COLLECTOR28, COLLECTOR29, COLLECTOR30, COLLECTOR31, COLLECTOR32, COLLECTOR33, COLLECTOR34,</span>
<span class="go">COLLECTOR35, COLLECTOR36, COLLECTOR37, COLLECTOR38, COLLECTOR39, COLLECTOR40</span>
<span class="go">Defined in &#39;/etc/condor/config.d/11_gwms_secondary_collectors.config&#39;, line 193.</span>
</code></pre></div>

</li>
</ol>
<p>If you don't see all the collectors. shared port and the two schedd, then the
configuration must be corrected. There should be <strong><em>no</em></strong> <code>startd</code> daemons
listed.</p>
<h4 id="creating-a-htcondor-grid-mapfile">Creating a HTCondor grid mapfile.<a class="headerlink" href="#creating-a-htcondor-grid-mapfile" title="Permanent link">&para;</a></h4>
<p>The HTCondor mapfile (<code>/etc/condor/certs/condor_mapfile</code>) is used for
authentication between the GlideinWMS pilot running on a remote worker node, and
the local collector. HTCondor uses the mapfile to map certificates to pseudo-users
on the local machine. It is important that you map the DN's of:</p>
<ul>
<li>
<p><strong>Each schedd proxy</strong>: The <code>DN</code> of each schedd that the frontend talks to. Specified in the frontend.xml schedd element <code>DN</code> attribute:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;schedds&gt;</span>
  <span class="nt">&lt;schedd</span> <span class="na">DN=</span><span class="s">&quot;/DC=org/DC=doegrids/OU=Services/CN=YOUR_HOST&quot;</span> <span class="na">fullname=</span><span class="s">&quot;YOUR_HOST&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;schedd</span> <span class="na">DN=</span><span class="s">&quot;/DC=org/DC=doegrids/OU=Services/CN=YOUR_HOST&quot;</span> <span class="na">fullname=</span><span class="s">&quot;schedd_jobs2@YOUR_HOST&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/schedds&gt;</span>
</code></pre></div>

</li>
<li>
<p><strong>Frontend proxy</strong>: The DN of the proxy that the Frontend uses to communicate with the other GlideinWMS services. Specified in the frontend.xml security element <code>proxy_DN</code> attribute:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;security</span> <span class="na">classad_proxy=</span><span class="s">&quot;/tmp/vo_proxy&quot;</span> <span class="na">proxy_DN=</span><span class="s">&quot;DN of vo_proxy&quot;</span> <span class="err">....</span>
</code></pre></div>

</li>
<li>
<p><strong>Each pilot proxy</strong> The DN of <strong>each</strong> proxy that the frontend forwards to the factory to use with the GlideinWMS pilots.  This allows the GlideinWMS pilot jobs to communicate with the User Collector. Specified in the frontend.xml proxy <code>absfname</code> attribute (you need to specify the <code>DN</code> of each of those proxies:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;security</span> <span class="err">....</span>
<span class="err">&lt;proxies</span><span class="nt">&gt;</span>
   <span class="nt">&lt; proxy</span> <span class="na">absfname=</span><span class="s">&quot;/tmp/vo_proxy&quot;</span> <span class="err">....</span>
   <span class="err">:</span>
<span class="err">&lt;/proxies</span><span class="nt">&gt;</span>
</code></pre></div>

</li>
</ul>
<p>Below is an example mapfile, by default found in
<code>/etc/condor/certs/condor_mapfile</code>. In this example there are lines for each of
services mentioned above.</p>
<div class="highlight"><pre><span></span><code>GSI &quot;&lt;DN OF SCHEDD PROXY&gt;&quot; schedd
GSI &quot;&lt;DN OF FRONTEND PROXY&gt;&quot; frontend
GSI &quot;&lt;DN OF PILOT PROXY&gt;&quot; pilot_proxy
GSI &quot;^/DC=org/DC=doegrids/OU=Services/CN=personal-submit-host2.mydomain.edu$&quot; &lt;example_of_format&gt;
GSI (.*) anonymous
FS (.*) \1
</code></pre></div>
<p>Change <code>&lt;DN OF SCHEDD PROXY&gt;</code>, <code>&lt;DN OF FRONTEND PROXY&gt;</code>, and  <code>&lt;DN OF PILOT PROXY&gt;</code> to the distinguished names of the
respective proxies.</p>
<h4 id="restarting-htcondor">Restarting HTCondor<a class="headerlink" href="#restarting-htcondor" title="Permanent link">&para;</a></h4>
<p>After configuring HTCondor, be sure to restart HTCondor:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>service condor restart
</code></pre></div>

<h3 id="proxy-configuration">Proxy Configuration<a class="headerlink" href="#proxy-configuration" title="Permanent link">&para;</a></h3>
<p>GlideinWMS comes with the <a href="#managing-glideinwms-services">gwms-renew-proxies service</a> that can automatically generate
and renew the <strong>pilot proxies</strong> and <strong>VO Frontend proxy</strong>. To configure this service, modify
<code>/etc/gwms-frontend/proxies.ini</code> using the following instructions:</p>
<ol>
<li>
<p>For each of your <strong>pilot proxies</strong>, create a <code>[PILOT &lt;NAME&gt;]</code> section, where <code>&lt;NAME&gt;</code> is a descriptive
   name for the proxy that is unique to your local configuration. In each section, set the <code>proxy_cert</code>, <code>proxy_key</code>,
   <code>output</code>, and <code>vo</code> corresponding to each pilot proxy:</p>
<div class="codehilite"><pre><span></span><code>[PILOT &lt;NAME&gt;]
proxy_cert = &lt;PATH TO THE PILOT CERTIFICATE&gt;
proxy_key = &lt;PATH TO THE PILOT KEY&gt;
output = &lt;PATH TO CREATE THE PILOT PROXY&gt;
vo = &lt;NAME OF VIRTUAL ORGANIZATION&gt;
</code></pre></div>

<p>Change <code>&lt;PATH TO THE PILOT CERTIFICATE&gt;</code>, <code>&lt;PATH TO THE PILOT KEY&gt;</code> and <code>&lt;PATH TO CREATE THE PILOT PROXY&gt;</code>
appropriately to point to the locations of the pilot certificate, pilot key, and pilot proxy, respectively.</p>
<p>Additionally, in each <code>[PILOT &lt;NAME&gt;]</code> section, you must specify how the proxy's VOMS attributes will be signed by
setting <code>use_voms_server</code>. Choose one of the following options:</p>
<ul>
<li>
<p>To directly sign the VOMS attributes (recommended), you must have access to the <code>vo</code>'s certificate and key.
  Specify the paths to the <code>vo</code> certificate and key, and optionally, the VOMS attribute (e.g. <code>/osg/Role=NULL/Capability=NULL</code>
  for the OSG VO):</p>
<div class="codehilite"><pre><span></span><code>use_voms_server = false
vo_cert = &lt;PATH TO THE PILOT CERTIFICATE&gt;
vo_key = &lt;PATH TO THE PILOT KEY&gt;
fqan = &lt;VOMS ATTRIBUTE&gt;
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you do not have access to the <code>vo</code>'s <code>voms_cert</code> and <code>voms_key</code>, contact the VO manager.</p>
</div>
</li>
<li>
<p>To have your proxy's VOMS attributes signed by the <code>vo</code>'s VOMS server, set <code>use_voms_server = true</code>
  and the VOMS attribute (e.g. <code>/osg/Role=NULL/Capability=NULL</code> for the OSG VO):</p>
<div class="codehilite"><pre><span></span><code>use_voms_server = true
fqan = &lt;VOMS ATTRIBUTE&gt;
</code></pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to the <a href="https://osg-htc.org/technology/policy/voms-admin-retire/">retirement of VOMS Admin server</a>
in the OSG, <code>use_voms_server = false</code> is the preferred method for signing VOMS attributes. </p>
</div>
</li>
</ul>
<p>Optionally, the proxy renewal <code>frequency</code> and <code>lifetime</code> (in hours) can be specified in each <code>[PILOT &lt;NAME&gt;]</code> section:</p>
<div class="codehilite"><pre><span></span><code># Default: 1
frequency = &lt;RENEWAL FREQUENCY&gt;
# Default: 24
lifetime = &lt;PROXY LIFETIME&gt;
</code></pre></div>

</li>
<li>
<p>Configure the location and output of the <strong>VO Frontend proxy</strong> under the <code>[FRONTEND]</code> section and set
   the <code>proxy_cert</code>, <code>proxy_key</code>, and <code>output</code> to paths corresponding to your VO Frontend:</p>
<div class="codehilite"><pre><span></span><code>[FRONTEND]
proxy_cert = &lt;PATH TO THE FRONTEND CERTIFICATE&gt;
proxy_key = &lt;PATH TO THE FRONTEND KEY&gt;
output = &lt;PATH TO CREATE THE FRONTEND PROXY&gt;
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>output</code> must be the same path as the <code>classad_proxy</code> specified in <a href="#configuring-the-frontend">this section</a></p>
</div>
</li>
<li>
<p><strong>(OPTIONAL)</strong> If you are running the <code>gwms-frontend</code> service under a <code>&lt;NON-DEFAULT USER&gt;</code> (default: <code>frontend</code>),
   specify the user as the owner of your proxies under the <code>[COMMON]</code> section:</p>
<div class="codehilite"><pre><span></span><code>[COMMON]
owner = &lt;NON-DEFAULT USER&gt;
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>[COMMON]</code> section is required but its contents are optional</p>
</div>
</li>
</ol>
<h3 id="adding-gratia-accounting-and-a-local-monitoring-page-on-a-production-server">Adding Gratia Accounting and a Local Monitoring Page on a Production Server<a class="headerlink" href="#adding-gratia-accounting-and-a-local-monitoring-page-on-a-production-server" title="Permanent link">&para;</a></h3>
<p>You must report accounting information if you are running more than a few test jobs on the OSG .</p>
<ol>
<li>
<p>Install the GlideinWMS Gratia Probe on each of your access points in your GlideinWMS installation:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>yum install gratia-probe-glideinwms
</code></pre></div>

</li>
<li>
<p>Edit the ProbeConfig located in <code>/etc/gratia/condor/ProbeConfig</code>. First, edit the <code>SiteName</code> and <code>ProbeName</code> to be a unique identifier for your GlideinWMS access point. There can be multiple probes (with different names) per site. If you haven't already, you should register your GlideinWMS access point in <a href="https://github.com/opensciencegrid/topology/">OIM</a>. Then you can use the name you used to register the resource.</p>
<div class="codehilite"><pre><span></span><code>ProbeName=&quot;condor:&lt;hostname&gt;&quot;
SiteName=&quot;HCC-GlideinWMW-Frontend&quot;
</code></pre></div>

<p>Next, turn the probe on by setting <code>EnableProbe</code>:</p>
<div class="codehilite"><pre><span></span><code>EnableProbe=&quot;1&quot;
</code></pre></div>

</li>
<li>
<p>Reconfigure HTCondor:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>condor_reconfig
</code></pre></div>

</li>
</ol>
<h4 id="optional-accounting-configuration">Optional Accounting Configuration<a class="headerlink" href="#optional-accounting-configuration" title="Permanent link">&para;</a></h4>
<p>The following sections contain additional configuration that may be required depending on the customizations you've made to your GlideinWMS frontend installation.</p>
<h5 id="users-without-certificates">Users without Certificates<a class="headerlink" href="#users-without-certificates" title="Permanent link">&para;</a></h5>
<p>If you have users that submit jobs without a certificate explicitly declared in the submit file, you will need to add <code>MapUnknownToGroup</code> to the ProbeConfig. In the file <code>/etc/gratia/condor/ProbeConfig</code>, add the value after the <code>EnableProbe</code>.</p>
<div class="highlight"><pre><span></span><code>    ...
    SuppressGridLocalRecords=&quot;0&quot;
    EnableProbe=&quot;1&quot;
<span class="hll">    MapUnknownToGroup=&quot;1&quot;
</span>
    Title3=&quot;Tuning parameter&quot;
    ...
</code></pre></div>
<p>Further, if you want to record all usage as coming from a single VO, you can configure the probe to override the 'guessed' VO. In the below example, replace <code>&lt;ENGAGE&gt;</code> with a registered VO that you would like to report as. If you don't have a VO that you are affiliated with, you may use "Engage".</p>
<div class="highlight"><pre><span></span><code>...
    MapUnknownToGroup=&quot;1&quot;
    MapGroupToRole=&quot;1&quot;
<span class="hll">    VOOverride=&quot;&lt;ENGAGE&gt;&quot;
</span>...
</code></pre></div>
<h5 id="non-standard-htcondor-install">Non-Standard HTCondor Install<a class="headerlink" href="#non-standard-htcondor-install" title="Permanent link">&para;</a></h5>
<p>If HTCondor is installed in a non-standard location (i.e., not RPMs, or relocated RPM outside <code>/usr/bin</code>), then you need to tell the probe where to find the HTCondor binaries. This can be done with a script with a special attribute in <code>/etc/gratia/condor/ProbeConfig</code>, <code>CondorLocation</code>. Point it to the location of the HTCondor install, such that <code>CondorLocation/bin/condor_version</code> exists.</p>
<h5 id="new-data-directory">New Data Directory<a class="headerlink" href="#new-data-directory" title="Permanent link">&para;</a></h5>
<p>If your <code>PER_JOB_HISTORY_DIR</code> HTCondor configuration variable is different from the default value, you must update the value of <code>DataFolder</code> in <code>/etc/gratia/condor/ProbeConfig</code>. To check the value of <code>PER_JOB_HISTORY_DIR</code> run the following command:</p>
<div class="highlight"><pre><span></span><code><span class="gp">user@host $ </span>condor_config_val PER_JOB_HISTORY_DIR
</code></pre></div>
<h5 id="different-collector-and-other-customizations">Different collector and other customizations<a class="headerlink" href="#different-collector-and-other-customizations" title="Permanent link">&para;</a></h5>
<p>By default the probe reports to the OSG GRACC. To change that you must edit the configuration file, <code>/etc/gratia/condor/ProbeConfig</code>, and replace the OSG production host with your desired one:</p>
<div class="highlight"><pre><span></span><code>...
    CollectorHost=&quot;gratia-osg-prod.opensciencegrid.org:80&quot;
    SSLHost=&quot;gratia-osg-prod.opensciencegrid.org:443&quot;
    SSLRegistrationHost=&quot;gratia-osg-prod.opensciencegrid.org:80&quot;
...
</code></pre></div>
<h3 id="optional-configuration">Optional Configuration<a class="headerlink" href="#optional-configuration" title="Permanent link">&para;</a></h3>
<p>The following configuration steps are optional and will likely not be required
for setting up a small site. If you do not need any of the following special
configurations, skip to <a href="#using-glideinwms">the section on using GlideinWMS</a>.</p>
<ul>
<li><a href="#allowing-users-to-specify-where-their-jobs-run">Allow users to specify where their jobs run</a></li>
<li><a href="#creating-a-group-for-testing-configuration-changes">Creating a group to test configuration changes</a></li>
</ul>
<h4 id="allowing-users-to-specify-where-their-jobs-run">Allowing users to specify where their jobs run<a class="headerlink" href="#allowing-users-to-specify-where-their-jobs-run" title="Permanent link">&para;</a></h4>
<p>In order to allow users to specify the sites at which their jobs want to run (or
to test a specific site), a Frontend can be configured to match on
<code>DESIRED_Sites</code> or ignore it if not specified. Modify
<code>/etc/gwms-frontend/frontend.xml</code> using the following instructions:</p>
<ol>
<li>
<p>In the Frontend's global <code>&lt;match&gt;</code> stanza, set the <code>match_expr</code>:</p>
<div class="codehilite"><pre><span></span><code>&#39;((job.get(&quot;DESIRED_Sites&quot;,&quot;nosite&quot;)==&quot;nosite&quot;) or (glidein[&quot;attrs&quot;][&quot;GLIDEIN_Site&quot;] in job.get(&quot;DESIRED_Sites&quot;,&quot;nosite&quot;).split(&quot;,&quot;)))&#39;
</code></pre></div>

</li>
<li>
<p>In the same <code>&lt;match&gt;</code> stanza, set the <code>start_expr</code>:</p>
<div class="codehilite"><pre><span></span><code>&#39;(DESIRED_Sites=?=undefined || stringListMember(GLIDEIN_Site,DESIRED_Sites,&quot;,&quot;))
</code></pre></div>

</li>
<li>
<p>Add the <code>DESIRED_Sites</code> attribute to the match attributes list:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;match_attrs&gt;</span>
   <span class="nt">&lt;match_attr</span> <span class="na">name=</span><span class="s">&quot;DESIRED_Sites&quot;</span> <span class="na">type=</span><span class="s">&quot;string&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/match_attrs&gt;</span>
</code></pre></div>

</li>
<li>
<p>Reconfigure the Frontend:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>/etc/init.d/gwms-frontend reconfig
</code></pre></div>

</li>
</ol>
<h4 id="creating-a-group-for-testing-configuration-changes">Creating a group for testing configuration changes<a class="headerlink" href="#creating-a-group-for-testing-configuration-changes" title="Permanent link">&para;</a></h4>
<p>To perform configuration changes without impacting production the recommended
way is to create an ITB group in <code>/etc/gwms-frontend/frontend.xml</code>. This
groupwould only match jobs that have the <code>+is_itb=True</code> ClassAd.</p>
<ol>
<li>
<p>Create a <a href="http://glideinwms.fnal.gov/doc.prd/frontend/configuration.html#management">group</a> named itb.</p>
</li>
<li>
<p>Set the group's <code>start_expr</code> so that the group's glideins will only match user jobs with <code>+is_itb=True</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;match</span> <span class="na">match_expr=</span><span class="s">&quot;True&quot;</span> <span class="na">start_expr=</span><span class="s">&quot;(is_itb)&quot;</span><span class="nt">&gt;</span>
</code></pre></div>

</li>
<li>
<p>Set the <code>factory_query_expr</code> so that this group only communicates with ITB factories:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;factory</span> <span class="na">query_expr=</span><span class="s">&#39;FactoryType=?=&quot;itb&quot;&#39;</span><span class="nt">&gt;</span>
</code></pre></div>

</li>
<li>
<p>Set the group's <code>collector</code> stanza to reference the ITB factory, replacing <code>username@gfactory-1.t2.ucsd.edu</code> with your factory identity:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;collector</span> <span class="na">DN=</span><span class="s">&quot;/DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=Services/CN=glidein-itb.grid.iu.edu&quot;</span> <span class="err">\</span>
          <span class="na">factory_identity=</span><span class="s">&quot;gfactory@glidein-itb.grid.iu.edu&quot;</span> <span class="err">\</span>
          <span class="na">my_identity=</span><span class="s">&quot;username@gfactory-1.t2.ucsd.edu&quot;</span> <span class="err">\</span>
          <span class="na">node=</span><span class="s">&quot;glidein-itb.grid.iu.edu&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>

</li>
<li>
<p>Set the job <code>query_expr</code> so that only ITB jobs appear in <code>condor_q</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;job</span> <span class="na">query_expr=</span><span class="s">&quot;(!isUndefined(is_itb) &amp;&amp; is_itb)&quot;</span><span class="nt">&gt;</span>
</code></pre></div>

</li>
<li>
<p>Reconfigure the Frontend (see the <a href="#reconfiguring-glideinwms">section below</a>):</p>
<div class="codehilite"><pre><span></span><code><span class="go">systemctl reload gwms-frontend</span>
</code></pre></div>

</li>
</ol>
<h2 id="using-glideinwms">Using GlideinWMS<a class="headerlink" href="#using-glideinwms" title="Permanent link">&para;</a></h2>
<h3 id="managing-glideinwms-services">Managing GlideinWMS Services<a class="headerlink" href="#managing-glideinwms-services" title="Permanent link">&para;</a></h3>
<p>In addition to the GlideinWMS service itself, there are a number of supporting services in your installation. The specific services are:</p>
<table>
<thead>
<tr>
<th align="left">Software</th>
<th align="left">Service name</th>
<th align="left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Fetch CRL</td>
<td align="left"><code>fetch-crl.timer</code></td>
<td align="left">See <a href="../../common/ca/#managing-fetch-crl-services">CA documentation</a> for more info</td>
</tr>
<tr>
<td align="left">Gratia</td>
<td align="left"><code>gratia-probes-cron</code></td>
<td align="left">Accounting software</td>
</tr>
<tr>
<td align="left">HTCondor</td>
<td align="left"><code>condor</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">HTTPD</td>
<td align="left"><code>httpd</code></td>
<td align="left">GlideinWMS monitoring and staging</td>
</tr>
<tr>
<td align="left">GlideinWMS</td>
<td align="left"><code>gwms-renew-proxies.timer</code></td>
<td align="left"><a href="#proxy-configuration">Automatic proxy renewal</a></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"><code>gwms-frontend</code></td>
<td align="left">The main GlideinWMS service</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Start the services in the order listed and stop them in reverse order. As a reminder, here are common service commands (all run as <code>root</code>):</p>
<table>
<thead>
<tr>
<th align="left">To...</th>
<th align="left">Run the command...</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Start a service</td>
<td align="left"><code>systemctl start &lt;SERVICE-NAME&gt;</code></td>
</tr>
<tr>
<td align="left">Stop a service</td>
<td align="left"><code>systemctl stop &lt;SERVICE-NAME&gt;</code></td>
</tr>
<tr>
<td align="left">Enable a service to start on boot</td>
<td align="left"><code>systemctl enable &lt;SERVICE-NAME&gt;</code></td>
</tr>
<tr>
<td align="left">Disable a service from starting on boot</td>
<td align="left"><code>systemctl disable &lt;SERVICE-NAME&gt;</code></td>
</tr>
</tbody>
</table>
<h3 id="reconfiguring-glideinwms">Reconfiguring GlideinWMS<a class="headerlink" href="#reconfiguring-glideinwms" title="Permanent link">&para;</a></h3>
<p>After changing the configuration of GlideinWMS, run the following command as <code>root</code>:</p>
<div class="highlight"><pre><span></span><code>root@host # systemctl reload gwms-frontend
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that <code>systemctl reload gwms-frontend</code> will work only if:
- gwms-frontend service is running
- gwms-frontend service was started with systemctl</p>
<p>Otherwise, you will get the following error in any of the cases:</p>
<div class="codehilite"><pre><span></span><code><span class="gp"># </span>systemctl reload gwms-frontend
<span class="go">Job for gwms-frontend.service invalid.</span>
</code></pre></div>

</div>
<h3 id="upgrading-glideinwms-frontend">Upgrading GlideinWMS FrontEnd<a class="headerlink" href="#upgrading-glideinwms-frontend" title="Permanent link">&para;</a></h3>
<p>After upgrading the GlideinWMS RPM, you must issue an upgrade command to GlideinWMS:</p>
<ol>
<li>
<p>Stop the <code>condor</code> and <code>gwms-frontend</code> services as specified in <a href="#managing-glideinwms-services">this section</a></p>
</li>
<li>
<p>Issue the upgrade command:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">root@host # </span>/usr/sbin/gwms-frontend upgrade
</code></pre></div>

</li>
<li>
<p>Start the <code>condor</code> and <code>gwms-frontend</code> services as specified in <a href="#managing-glideinwms-services">this section</a></p>
</li>
</ol>
<h2 id="validating-glideinwms-frontend">Validating GlideinWMS Frontend<a class="headerlink" href="#validating-glideinwms-frontend" title="Permanent link">&para;</a></h2>
<p>The complete validation of the Frontend is the submission of actual jobs.
However, there are a few things that can be checked prior to submitting user
jobs to HTCondor.</p>
<h2 id="verifying-services-are-running">Verifying Services Are Running<a class="headerlink" href="#verifying-services-are-running" title="Permanent link">&para;</a></h2>
<p>There are a few things that can be checked prior to submitting user jobs to HTCondor.</p>
<ol>
<li>
<p>Verify all HTCondor daemons are started.</p>
<div class="codehilite"><pre><span></span><code>user@host $ condor_config_val -verbose DAEMON_LIST
DAEMON_LIST: MASTER,  COLLECTOR, NEGOTIATOR,  SCHEDD, SHARED_PORT, SCHEDDJOBS2 COLLECTOR0 COLLECTOR1 COLLECTOR2
COLLECTOR3 COLLECTOR4 COLLECTOR5 COLLECTOR6 COLLECTOR7 COLLECTOR8 COLLECTOR9 COLLECTOR10 , COLLECTOR11,
COLLECTOR12, COLLECTOR13, COLLECTOR14, COLLECTOR15, COLLECTOR16, COLLECTOR17, COLLECTOR18, COLLECTOR19, COLLECTOR20,
COLLECTOR21, COLLECTOR22, COLLECTOR23, COLLECTOR24, COLLECTOR25, COLLECTOR26, COLLECTOR27, COLLECTOR28, COLLECTOR29,
COLLECTOR30, COLLECTOR31, COLLECTOR32, COLLECTOR33, COLLECTOR34, COLLECTOR35, COLLECTOR36, COLLECTOR37, COLLECTOR38,
COLLECTOR39, COLLECTOR40
Defined in &#39;/etc/condor/config.d/11_gwms_secondary_collectors.config&#39;, line 193.
</code></pre></div>

<p>If you don't see all the <strong>collectors and the two schedds</strong>, then the configuration must be corrected. There should be no startd daemons listed</p>
</li>
<li>
<p>Verify all VO Frontend HTCondor services are communicating.</p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@host $ </span>condor_status -any
<span class="go">MyType               TargetType           Name</span>
<span class="go">glideresource        None                 MM_fermicloud026@gfactory_inst</span>
<span class="go">Scheduler            None                 fermicloud020.fnal.gov</span>
<span class="go">DaemonMaster         None                 fermicloud020.fnal.gov</span>
<span class="go">Negotiator           None                 fermicloud020.fnal.gov</span>
<span class="go">Collector            None                 frontend_service@fermicloud020.fnal.gov</span>
<span class="go">Scheduler            None                 schedd_jobs2@fermicloud020.fnal.gov</span>
</code></pre></div>

</li>
<li>
<p>To see the details of the glidein resource use <code>condor_status -subsystem glideresource -l</code>, including the GlideFactoryName.</p>
</li>
<li>
<p>Verify that the Factory is seeing correctly the Frontend using <code>condor_status -pool &lt;FACTORY_HOST&gt; -any -constraint 'FrontendName=="&lt;FRONTEND_NAME_FROM_CONFIG&gt;"' -l</code>, including the GlideFactoryName.</p>
</li>
</ol>
<p>Where <code>&lt;FACTORY_HOST&gt;</code> is the hostname of the factory being used, for example: gfactory-1.t2.ucsd.edu and
<FRONTEND_NAME_FROM_CONFIG> is the value set for "frontend_name" in the frontend.xml file</p>
<h3 id="glideinwms-job-submission">GlideinWMS Job submission<a class="headerlink" href="#glideinwms-job-submission" title="Permanent link">&para;</a></h3>
<p>HTCondor submit file <code>glidein-job.sub</code>. This is a simple job printing the hostname of the host where the job is running:</p>
<div class="highlight"><pre><span></span><code>#file glidein-job.sub
universe = vanilla
executable = /bin/hostname
output = glidein/test.out
error = glidein/test.err
requirements = IS_GLIDEIN == True
log = glidein/test.log
ShouldTransferFiles = YES

when_to_transfer_output = ON_EXIT
queue
</code></pre></div>
<p>To submit the job:</p>
<div class="highlight"><pre><span></span><code><span class="gp">root@host # </span>condor_submit glidein-job.sub
</code></pre></div>
<p>Then you can control the job like a normal HTCondor job, e.g. to check the status of the job use <code>condor_q</code>.</p>
<h3 id="monitoring-web-pages">Monitoring Web pages<a class="headerlink" href="#monitoring-web-pages" title="Permanent link">&para;</a></h3>
<p>You should be able to see the jobs also in the GlideinWMS monitoring pages that are
made available on the Web:
<strong><code>http://gwms-frontend-host.domain/vofrontend/monitor/</code></strong></p>
<h2 id="troubleshooting-glideinwms">Troubleshooting GlideinWMS<a class="headerlink" href="#troubleshooting-glideinwms" title="Permanent link">&para;</a></h2>
<h3 id="file-locations">File Locations<a class="headerlink" href="#file-locations" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th align="center">File Description</th>
<th align="center">File Location</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Configuration file</td>
<td align="center">/etc/gwms-frontend/frontend.xml</td>
</tr>
<tr>
<td align="center">Logs</td>
<td align="center">/var/log/gwms-frontend/</td>
</tr>
<tr>
<td align="center">Startup script</td>
<td align="center">/usr/bin/gwms-frontend</td>
</tr>
<tr>
<td align="center">Web Directory</td>
<td align="center">/var/lib/gwms-frontend/web-area</td>
</tr>
<tr>
<td align="center">Web Base</td>
<td align="center">/var/lib/gwms-frontend/web-base</td>
</tr>
<tr>
<td align="center">Web configuration</td>
<td align="center">/etc/httpd/conf.d/gwms-frontend.conf</td>
</tr>
<tr>
<td align="center">Working Directory</td>
<td align="center">/var/lib/gwms-frontend/vofrontend/</td>
</tr>
<tr>
<td align="center">Lock files</td>
<td align="center">/var/lib/gwms-frontend/vofrontend/lock/frontend.lock /var/lib/gwms-frontend/vofrontend/group_*/lock/frontend.lock</td>
</tr>
<tr>
<td align="center">Status files</td>
<td align="center">/var/lib/gwms-frontend/vofrontend/monitor/group_*/frontend_status.xml</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>/var/lib/gwms-frontend</code> is also the home directory of the <code>frontend</code> user</p>
</div>
<h3 id="certificates-brief">Certificates brief<a class="headerlink" href="#certificates-brief" title="Permanent link">&para;</a></h3>
<p>Here a short list of files to check when you change the certificates. Note that if you renew a proxy or certificate and the DN remains the same no configuration file needs to change, just put the renewed certificate/proxy in place.</p>
<table>
<thead>
<tr>
<th align="center">File Description</th>
<th align="center">File Location</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Configuration file</td>
<td align="center">/etc/gwms-frontend/frontend.xml</td>
</tr>
<tr>
<td align="center">HTCondor certificates map</td>
<td align="center">/etc/condor/certs/condor_mapfile (1)</td>
</tr>
<tr>
<td align="center">Host certificate and key (2)</td>
<td align="center">/etc/grid-security/hostcert.pem            /etc/grid-security/hostkey.pem</td>
</tr>
<tr>
<td align="center">VO Frontend proxy (from host certificate)</td>
<td align="center">/tmp/vofe_proxy (3)</td>
</tr>
<tr>
<td align="center">Pilot proxy</td>
<td align="center">/tmp/pilot_proxy (3)</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>If using HTCondor RPM installation, e.g. the one coming from OSG. If you have separate/multiple HTCondor hosts (schedds, collectors, negotiators, ..) you may have to check this file on all of them to make sure that the HTCondor authentication works correctly.</p>
</li>
<li>
<p>Used to create the VO Frontend proxy if following the <a href="#proxy-configuration">instructions above</a></p>
</li>
<li>
<p>If using the Frontend configuration and scripts described <a href="#proxy-configuration">above in this document</a>. These paths are the ones specified in the configuration file.</p>
</li>
</ol>
<p>Remember also that when you change DN:</p>
<ul>
<li>The VO Frontend certificate DN must be communicated to the GlideinWMS Factory (<a href="#osg-factory-access">see above</a>)</li>
<li>The pilot proxy must be able to run jobs at the sites you are using, e.g. by being added to the correct VO in OSG (the Factory forwards the proxy and does not care about the DN)</li>
</ul>
<h3 id="increase-the-log-level-and-change-rotation-policies">Increase the log level and change rotation policies<a class="headerlink" href="#increase-the-log-level-and-change-rotation-policies" title="Permanent link">&para;</a></h3>
<p>You can increase the log level of the frontend. To add a log file with all the log information add the following line with all the message types in the <code>process_log</code> section of <code>/etc/gwms-frontend/frontend.xml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;log_retention&gt;</span>
   <span class="nt">&lt;process_logs&gt;</span>
       <span class="nt">&lt;process_log</span> <span class="na">extension=</span><span class="s">&quot;all&quot;</span> <span class="na">max_days=</span><span class="s">&quot;7.0&quot;</span> <span class="na">max_mbytes=</span><span class="s">&quot;100.0&quot;</span> <span class="na">min_days=</span><span class="s">&quot;3.0&quot;</span> <span class="na">msg_types=</span><span class="s">&quot;DEBUG,EXCEPTION,INFO,ERROR,ERR&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>You can also change the rotation policy and choose whether compress the rotated files, all in the same section of the config files:</p>
<ul>
<li>max_bytes is the max size of the log files</li>
<li>max_days it will be rotated.</li>
<li>compression specifies if rotated files are compressed</li>
<li>backup_count is the number of rotated log files kept</li>
</ul>
<p>Further details are in the <a href="http://glideinwms.fnal.gov/doc.prd/frontend/configuration.html#process_logs">reference documentation</a>.</p>
<h3 id="frontend-reconfig-failing">Frontend reconfig failing<a class="headerlink" href="#frontend-reconfig-failing" title="Permanent link">&para;</a></h3>
<p>If <code>service gwms-frontend reconfig</code> fails at the end with an error like "Writing back config file failed, Reconfiguring the frontend [FAILED]", make sure that <code>/etc/gwms-frontend/</code> belongs to the <code>frontend</code> user. It must be able to write to update the configuration file.</p>
<h3 id="frontend-failing-to-start">Frontend failing to start<a class="headerlink" href="#frontend-failing-to-start" title="Permanent link">&para;</a></h3>
<p>If the startup script of the frontend is failing, check the log file for errors (probably <code>/var/log/gwms-frontend/frontend/frontend.&lt;TODAY's DATE&gt;.err.log</code> and <code>.debug.log</code>).</p>
<p>If you find errors like <em>"Exception occurred: ... 'ExpatError: no element found: line 1, column 0\n']"</em> and <em>"IOError: [Errno 9] Bad file descriptor"</em> you may have an empty status file (<code>/var/lib/gwms-frontend/vofrontend/monitor/group_*/frontend_status.xml</code>) that causes GlideinWMS Frontend not to start. The glideinFrontend crashes after a XML parsing exception visible in the log file ("Exception occurred: ... 'ExpatError: no element found: line 1, column 0\n']").</p>
<p>Remove the status file. Then start the frontend. The Frontend will be fixed in future versions to handle this automatically.</p>
<h3 id="certificates-not-there">Certificates not there<a class="headerlink" href="#certificates-not-there" title="Permanent link">&para;</a></h3>
<p>The scripts should send an email warning if there are problems and they fail to generate the proxies. Anyway something could go wrong and you want to check manually. If you are using the scripts to generate automatically the proxies but the proxies are not there (in <code>/tmp</code> or wherever you expect them):</p>
<ul>
<li>make sure that the scripts are there and configured with the correct values</li>
<li>make sure that the scripts are executable</li>
<li>make sure that the scripts are in <code>frontend</code> 's crontab</li>
<li>make sure that the certificates (or master proxy) used to generate the proxies is not expired</li>
</ul>
<h3 id="failed-authentication">Failed authentication<a class="headerlink" href="#failed-authentication" title="Permanent link">&para;</a></h3>
<p>If you get a failed authentication error (e.g. "Failed to talk to factory_pool gfactory-1.t2.ucsd.edu...) then:</p>
<ul>
<li>check that you have the right x509 certificates mentioned in the security section of <code>/etc/gwms-frontend/frontend.xml</code><ul>
<li>the owner must be <code>frontend</code> (user running the frontend)</li>
<li>the permission must be 600</li>
<li>they must be valid for more than one hour (2/300 hours), at least the non VO part</li>
</ul>
</li>
<li>check that the clock is synchronized (see HostTimeSetup)</li>
</ul>
<h3 id="frontend-doesnt-trust-factory">Frontend doesn't trust Factory<a class="headerlink" href="#frontend-doesnt-trust-factory" title="Permanent link">&para;</a></h3>
<p>If your frontend complains in the debug log:</p>
<div class="highlight"><pre><span></span><code>code 256:[&#39;Error: communication error\n&#39;, &#39;AUTHENTICATE:1003:Failed to authenticate with any method\n&#39;, &#39;AUTHENTICATE:1004:Failed to authenticate using GSI\n&#39;, &quot;GSI:5006:Failed to authenticate because the subject &#39;/DC=org/DC=doegrids/OU=Services/CN=devg-3.t2.ucsd.edu&#39; is not currently trusted by you.  If it should be, add it to GSI_DAEMON_NAME in the condor_config, or use the environment variable override (check the manual).\n&quot;, &#39;GSI:5004:Failed to gss_assist_gridmap /DC=org/DC=doegrids/OU=Services/CN=devg-3.t2.ucsd.edu to a local user.
</code></pre></div>
<p>A possible solution is to comment/remove the LOCAL_CONFIG_DIR in the file <code>/var/lib/gwms-frontend/vofrontend/frontend.condor_config</code>.</p>
<h3 id="no-security-credentials-match-for-factory-pool-not-advertising-request">No security credentials match for factory pool ..., not advertising request<a class="headerlink" href="#no-security-credentials-match-for-factory-pool-not-advertising-request" title="Permanent link">&para;</a></h3>
<p>You may see a warning like "No security credentials match for factory pool ..., not advertising request", if the <code>trust_domain</code> and <code>auth_method</code> of an entry in the Factory configuration is not matching any of the <code>trust_domain</code>, <code>type</code> couples in the credentials in the Frontend configuration. This causes the Frontend not to use some Factory entries (the ones not matching) and may end up without entries to send glideins to.</p>
<p>To fix the problem make sure that those attributes match as desired.</p>
<h3 id="jobs-not-running">Jobs not running<a class="headerlink" href="#jobs-not-running" title="Permanent link">&para;</a></h3>
<p>If your jobs remain Idle</p>
<ul>
<li>Check the frontend log files (see above)</li>
<li>Check the HTCondor log files (<code>condor_config_val LOG</code> will give you the correct log directory):<ul>
<li>Specifically look the CollectorXXXLog files</li>
</ul>
</li>
</ul>
<p>Common causes of problems could be:</p>
<ul>
<li>x509 certificates<ul>
<li>missing or expired or too short-lived proxy</li>
<li>incorrect ownership or permission on the certificate/proxy file</li>
<li>missing certificates</li>
</ul>
</li>
<li>If the Frontend http server is down in the glidein logs in the Factory there will be errors like "Failed to load file 'description.dbceCN.cfg' from <code>http://FRONTEND_HOST/vofrontend/stage</code>."<ul>
<li>check that the http server is running and you can reach the URL (<code>http://FRONTEND_HOST/vofrontend/stage/description.dbceCN.cfg</code>)</li>
</ul>
</li>
</ul>
<h2 id="getting-help">Getting Help<a class="headerlink" href="#getting-help" title="Permanent link">&para;</a></h2>
<p>To get assistance about the OSG software please use <a href="../../common/help/">this page</a>.</p>
<p>For specific questions about the Frontend configuration (and how to add it in your HTCondor infrastructure) you can email the glideinWMS support <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#103;&#108;&#105;&#100;&#101;&#105;&#110;&#119;&#109;&#115;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#102;&#110;&#97;&#108;&#46;&#103;&#111;&#118;">&#103;&#108;&#105;&#100;&#101;&#105;&#110;&#119;&#109;&#115;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#102;&#110;&#97;&#108;&#46;&#103;&#111;&#118;</a></p>
<p>To request access the OSG Glidein Factory (e.g. the UCSD factory) you have to send an email to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#111;&#115;&#103;&#45;&#103;&#102;&#97;&#99;&#116;&#111;&#114;&#121;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#112;&#104;&#121;&#115;&#105;&#99;&#115;&#46;&#117;&#99;&#115;&#100;&#46;&#101;&#100;&#117;">&#111;&#115;&#103;&#45;&#103;&#102;&#97;&#99;&#116;&#111;&#114;&#121;&#45;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#112;&#104;&#121;&#115;&#105;&#99;&#115;&#46;&#117;&#99;&#115;&#100;&#46;&#101;&#100;&#117;</a> (see below).</p>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<p>Definitions:</p>
<ul>
<li>What is a <a href="https://www.opensciencegrid.org/about/organization/">Virtual Organization</a></li>
</ul>
<p>Documents about the Glidein-WMS system and the VO frontend:</p>
<ul>
<li><a href="http://glideinwms.fnal.gov/">http://glideinwms.fnal.gov/</a></li>
</ul>
<h3 id="users">Users<a class="headerlink" href="#users" title="Permanent link">&para;</a></h3>
<p>The Glidein WMS Frontend installation will create the following users unless they are already created.</p>
<table>
<thead>
<tr>
<th align="left">User</th>
<th align="left">Default uid</th>
<th align="left">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>apache</code></td>
<td align="left">48</td>
<td align="left">Runs httpd to provide the monitoring page (installed via dependencies).</td>
</tr>
<tr>
<td align="left"><code>condor</code></td>
<td align="left">none</td>
<td align="left">HTCondor user (installed via dependencies).</td>
</tr>
<tr>
<td align="left"><code>frontend</code></td>
<td align="left">none</td>
<td align="left">This user runs the glideinWMS VO frontend. It also owns the credentials forwarded to the factory to use for the glideins.</td>
</tr>
<tr>
<td align="left"><code>gratia</code></td>
<td align="left">none</td>
<td align="left">Runs the Gratia probes to collect accounting data (optional see <a href="#adding-gratia-accounting-and-a-local-monitoring-page-on-a-production-server">the Gratia section below</a>)</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>UID 48 is reserved by RedHat for user <code>apache</code>.  If it is already taken by a different username, you will experience errors.</p>
</div>
<h3 id="certificates">Certificates<a class="headerlink" href="#certificates" title="Permanent link">&para;</a></h3>
<p>This document has a <a href="#proxy-configuration">proxy configuration section</a> that
uses the host certificate/key and a user certificate to generate the required
proxies.</p>
<table>
<thead>
<tr>
<th align="left">Certificate</th>
<th align="left">User that owns certificate</th>
<th align="left">Path to certificate</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Host certificate</td>
<td align="left"><code>root</code></td>
<td align="left"><code>/etc/grid-security/hostcert.pem</code></td>
</tr>
<tr>
<td align="left">Host key</td>
<td align="left"><code>root</code></td>
<td align="left"><code>/etc/grid-security/hostkey.pem</code></td>
</tr>
</tbody>
</table>
<p><a href="../../security/host-certs/">Here</a> are instructions to request a host certificate.</p>
<h3 id="networking">Networking<a class="headerlink" href="#networking" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th align="left">Service Name</th>
<th align="left">Protocol</th>
<th align="left">Port Number</th>
<th align="left">Inbound</th>
<th align="left">Outbound</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">HTCondor port range</td>
<td align="left">tcp</td>
<td align="left"><code>LOWPORT, HIGHPORT</code></td>
<td align="left"><code>YES</code></td>
<td align="left"></td>
<td>contiguous range of ports</td>
</tr>
<tr>
<td align="left">GlideinWMS Frontend</td>
<td align="left">tcp</td>
<td align="left">9618, 9620 to 9660</td>
<td align="left"><code>YES</code></td>
<td align="left"></td>
<td>HTCondor Collectors for the GlideinWMS Frontend (received ClassAds from resources and jobs)</td>
</tr>
</tbody>
</table>
<p>The VO frontend must have reliable network connectivity, be on the public
internet (no NAT), and preferably with no firewalls. Incoming TCP ports 9618 to 9660 must be open.</p>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../data/xrootd/install-shoveler/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Install XRootD Shoveler" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Install XRootD Shoveler
            </div>
          </div>
        </a>
      
      
        
        <a href="../install-cvmfs-stratum1/" class="md-footer__link md-footer__link--next" aria-label="Next: Install a CVMFS Stratum 1" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Install a CVMFS Stratum 1
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div>
    This material is based upon work supported by the
    <a href="https://nsf.gov">National Science Foundation</a>
    under Grant Nos.
    <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1148698">1148698</a>
    ,
    <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1836650">1836650</a>
    , and
    <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2030508">2030508</a>
    . Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
        Material for MkDocs
    </a>
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.top"], "search": "../../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c44cc438.min.js"></script>
      
    
  </body>
</html>